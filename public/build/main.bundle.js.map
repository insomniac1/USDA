{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./public/js/bar-zoom-set.js","webpack:///./public/js/temperature-vegetation.js","webpack:///./public/js/soil-chemistry.js","webpack:///./public/js/curve-line.js","webpack:///./public/js/main.js","webpack:///./public/js/autocomplete.js","webpack:///./public/js/map-counties.js","webpack:///./public/js/script.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","drawBarZoomMap","data","$","html","margin","top","right","bottom","left","width_bar","width","height_bar","x0","d3","scale","ordinal","rangeRoundBands","x1","y","linear","range","xAxis","svg","axis","tickSize","orient","color","svg_bar","select","append","attr","yearsNames_bar","map","year","rateNames","values","rate","domain","rangeBand","max","transition","duration","delay","style","slice","selectAll","enter","on","Math","random","brush","x","domain_rate","length","selected","empty","extent","selected_start","floor","selected_end","event","createGradient","id","stops","svgNS","namespaceURI","grad","document","createElementNS","setAttribute","attrs","stop","appendChild","querySelector","insertBefore","firstChild","drawTemperatureVegetation","width_area","height_area","mobile_area","seriesLabels","yield","temperature","vegetation","x_area","y_area","rangeRound","xAxis_area","tickPadding","tickFormat","ticks","yAxis_border","innerTickSize","outerTickSize","area_border","line","color_area","svg_area","stack","layout","area","y0","y1","varNames","seriesArr","series","forEach","push","years","year_itm","parseInt","selection","gradient_svg","find","offset","stop-color","stop-opacity","points_hover","state","console","log","e","clientX","mouse","this","clientY","area_tooltip","css","remove","itm","hasClass","removeClass","addClass","drawSoilChemistry","soil_chemistry_data","mobileScreen","getElementById","offsetWidth","width_circle","height","wrapper","opacityCircles","color_cicle","xScale","min","prefix","formatPrefix","symbol","yScale","nice","voronoiCells","sqrt","geom","voronoi","clipExtent","point","code","join","sort","a","b","type","cicle_tooltip","county","Number","parseFloat","toFixed","element","elementShadow","each","drawCurveLine","dataset_curve","curve_sp","xScale_curve","yScale_curve","xAxis_curve","yAxis_curve","line_curve","interpolate","svg_curve","Defaults","fn","select2","amd","require","extend","defaults","searchInputPlaceholder","SearchDropdown","_renderSearchDropdown","render","decorated","$rendered","apply","Array","arguments","$search","options","window","jQuery","json","error","county_state","countiesObj","stateObj","searchCounty","keys","stringKey","toString","sliceValue","stateID","stateName","toUpperCase","replace","dataObj","originalKey","countyID","searchOptions","text","placeholder","_barZoomSet","_temperatureVegetation","_soilChemistry","_curveLine","loading","counties","states","highlight","projection","path","miniSVG","timeseries","yAxis","summary","tooltip","tooltipOffset","labels","svg_map","width_map","height_map","mapMargin","color_map","threshold","isMapReady","format","isDataReady","uiState","undefined","zoom","timeseriesDiv","width_map_","resetZoom","ease","setTimeout","changeState","zoomed","stopPropagation","node","height_map_","bounds","dx","dy","translate","zoomScale","updateTimeseries","region","updateStateLabel","changeYear","updateMap","changeCounty","countyName","updateCountyLabel","dat","national","lineData","yRange","showTooltip","coordinates","x_mouse","currentTarget","y_mouse","clamp","lineChartHeight","originalKey_str","val","split","state_id","selectedCounty","ajax","dataType","contentType","url","success","area_symbol","soil_chemistry","bar_map","carbon","cropquality","latitude","longitude","soil_quality","water","predictedData","JSON","parse","date","wateravailability","soilcarbon","soilquality","textObject","stringify","zoom_delay","number","unit","vizDiv","offsetLeft","offsetTop","mapDiv","geo","albersUsa","us","topojson","feature","objects","features","datum","initMap","classed","err","metadata","colorRange","colorQuantiles","yearRange","toLowerCase","temperatureTooltip","args","vegetationTooltip","updatePredictedData","headers","Content-Type","ready","slider_water","rangeMaxVal_water","prop","siblings","transform","oninput","slider_carbon","rangeMaxVal_carbon","slider_soil","soilValues","1","2","3","4","rangeMaxVal_soil","roundSlider","radius","circleShape","sliderType","editableTooltip","tooltipFormat","btn","parents","trigger","mouseup"],"mappings":"aACA,IAAAA,KAGA,SAAAC,EAAAC,GAGA,GAAAF,EAAAE,GACA,OAAAF,EAAAE,GAAAC,QAGA,IAAAC,EAAAJ,EAAAE,IACAG,EAAAH,EACAI,GAAA,EACAH,YAUA,OANAI,EAAAL,GAAAM,KAAAJ,EAAAD,QAAAC,IAAAD,QAAAF,GAGAG,EAAAE,GAAA,EAGAF,EAAAD,QAKAF,EAAAQ,EAAAF,EAGAN,EAAAS,EAAAV,EAGAC,EAAAU,EAAA,SAAAR,EAAAS,EAAAC,GACAZ,EAAAa,EAAAX,EAAAS,IACAG,OAAAC,eAAAb,EAAAS,GAA0CK,YAAA,EAAAC,IAAAL,KAK1CZ,EAAAkB,EAAA,SAAAhB,GACA,oBAAAiB,eAAAC,aACAN,OAAAC,eAAAb,EAAAiB,OAAAC,aAAwDC,MAAA,WAExDP,OAAAC,eAAAb,EAAA,cAAiDmB,OAAA,KAQjDrB,EAAAsB,EAAA,SAAAD,EAAAE,GAEA,GADA,EAAAA,IAAAF,EAAArB,EAAAqB,IACA,EAAAE,EAAA,OAAAF,EACA,KAAAE,GAAA,iBAAAF,QAAAG,WAAA,OAAAH,EACA,IAAAI,EAAAX,OAAAY,OAAA,MAGA,GAFA1B,EAAAkB,EAAAO,GACAX,OAAAC,eAAAU,EAAA,WAAyCT,YAAA,EAAAK,UACzC,EAAAE,GAAA,iBAAAF,EAAA,QAAAM,KAAAN,EAAArB,EAAAU,EAAAe,EAAAE,EAAA,SAAAA,GAAgH,OAAAN,EAAAM,IAAqBC,KAAA,KAAAD,IACrI,OAAAF,GAIAzB,EAAA6B,EAAA,SAAA1B,GACA,IAAAS,EAAAT,KAAAqB,WACA,WAA2B,OAAArB,EAAA,SAC3B,WAAiC,OAAAA,GAEjC,OADAH,EAAAU,EAAAE,EAAA,IAAAA,GACAA,GAIAZ,EAAAa,EAAA,SAAAiB,EAAAC,GAAsD,OAAAjB,OAAAkB,UAAAC,eAAA1B,KAAAuB,EAAAC,IAGtD/B,EAAAkC,EAAA,GAIAlC,IAAAmC,EAAA,qFClFgBC,eAAT,SAAwBC,GAE7BC,EAAE,mBAAmBC,KAAK,IAG1B,IACIC,GAAUC,IAAK,GAAIC,MAAO,EAAGC,OAAQ,GAAIC,KAAM,GAC/CC,EAFcP,EAAE,mBAEQQ,QAAUN,EAAOI,KAAOJ,EAAOE,MACvDK,EAAa,IAAMP,EAAOC,IAAMD,EAAOG,OAEvCK,EAAKC,GAAGC,MAAMC,UACfC,iBAAiB,EAAGP,GAAY,IAE/BQ,EAAKJ,GAAGC,MAAMC,UAEdG,EAAIL,GAAGC,MAAMK,SACdC,OAAOT,EAAY,IAElBU,EAAQR,GAAGS,IAAIC,OAChBT,MAAMF,GACNY,SAAS,GACTC,OAAO,UAMNC,GAJQb,GAAGS,IAAIC,OAChBT,MAAMI,GACNO,OAAO,QAEEZ,GAAGC,MAAMC,UAClBK,OAAO,UAAW,UAAW,aAE5BO,EAAUd,GAAGe,OAAO,mBAAmBC,OAAO,OAC7CC,KAAK,QAASrB,EAAYL,EAAOI,KAAOJ,EAAOE,OAC/CwB,KAAK,SAAUnB,EAAaP,EAAOC,IAAMD,EAAOG,QAClDsB,OAAO,KACLC,KAAK,YAAa,aAAe1B,EAAOI,KAAO,IAAMJ,EAAOC,IAAM,KAErE,GAAGJ,EAAK,CACF,IAAI8B,EAAiB9B,EAAK+B,IAAI,SAAS1D,GAAK,OAAOA,EAAE2D,OACjDC,EAAYjC,EAAK,GAAGkC,OAAOH,IAAI,SAAS1D,GAAK,OAAOA,EAAE8D,OAE1DxB,EAAGyB,OAAON,GACVd,EAAGoB,OAAOH,GAAWlB,iBAAiB,EAAGJ,EAAG0B,cAC5CpB,EAAEmB,QAAQ,EAAGxB,GAAG0B,IAAItC,EAAM,SAASgC,GAAQ,OAAOpB,GAAG0B,IAAIN,EAAKE,OAAQ,SAAS7D,GAAK,OAAOA,EAAEW,YAE7F0C,EAAQE,OAAO,KACVC,KAAK,QAAS,UACdA,KAAK,YAAa,eAAiBnB,EAAa,KAChDxC,KAAKkD,GAEVM,EAAQE,OAAO,QACZA,OAAO,WACLC,KAAK,KAAM,QACXA,KAAK,eAAgB,qBACrBA,KAAK,QAAS,KACdA,KAAK,SAAU,MACfD,OAAO,SACLC,KAAK,aAAc,qBACnBA,KAAK,QAAS,KACdA,KAAK,SAAU,MAEtBH,EAAQE,OAAO,QACZA,OAAO,WACLC,KAAK,KAAM,QACXA,KAAK,eAAgB,qBACrBA,KAAK,QAAS,KACdA,KAAK,SAAU,MACfD,OAAO,SACLC,KAAK,aAAc,2BACnBA,KAAK,QAAS,KACdA,KAAK,SAAU,MAGtBH,EAAQC,OAAO,MAAMY,aAAaC,SAAS,KAAKC,MAAM,MAAMC,MAAM,UAAU,KAE5E,IAAIC,EAAQjB,EAAQkB,UAAU,UACzB5C,KAAKA,GACL6C,QAAQjB,OAAO,KACfC,KAAK,QAAS,KACdA,KAAK,YAAY,SAASxD,GAAK,MAAO,aAAesC,EAAGtC,EAAE2D,MAAQ,QAEvEW,EAAMC,UAAU,QACX5C,KAAK,SAAS3B,GAAK,OAAOA,EAAE6D,SAC5BW,QAAQjB,OAAO,QACXC,KAAK,QAASb,EAAGqB,aACjBR,KAAK,IAAK,SAASxD,GAAK,OAAO2C,EAAG3C,EAAE8D,QACpCO,MAAM,OAAQ,SAASrE,GAAK,OAAOoD,EAAMpD,EAAE8D,QAC3CN,KAAK,IAAK,SAASxD,GAAK,OAAO4C,EAAE,KACjCY,KAAK,SAAU,SAASxD,GAAK,OAAOqC,EAAaO,EAAE,KACnD6B,GAAG,YAAa,SAASzE,MAGzBwD,KAAK,KAAM,GACXA,KAAK,KAAM,GACfiB,GAAG,WAAY,SAASzE,MAK7BsE,EAAMC,UAAU,QACXL,aACAE,MAAM,SAAUpE,GAAI,OAAqB,IAAd0E,KAAKC,WAChCR,SAAS,KACTX,KAAK,IAAK,SAASxD,GAAK,OAAO4C,EAAE5C,EAAEW,SACnC6C,KAAK,SAAU,SAASxD,GAAK,OAAOqC,EAAaO,EAAE5C,EAAEW,SAiB1D,IAAIiE,EAAQrC,GAAGS,IAAI4B,QAChBC,EAAEvC,GACFmC,GAAG,QAAS,WACX,IAAIV,EAASzB,EAAGyB,SAEZe,EAAc3C,EAAU4B,EAAOgB,OAC/BC,EAAYJ,EAAMK,SAAU,EAAG9C,GAAWyC,EAAMM,SAEhDC,EAAiBT,KAAKU,MAAMJ,EAAS,GAAGF,GACxCO,EAAeX,KAAKU,MAAMJ,EAAS,GAAGF,GAC1CO,EAAgBA,EAAgBtB,EAAOgB,OAAS,EAAIM,EAActB,EAAOgB,OAAS,EAGhFhB,EAAOoB,GACPpB,EAAOsB,KAMbhC,EAAQE,OAAO,KACdC,KAAK,QAAS,WACd3D,KAAK+E,GACLL,UAAU,QACRf,KAAK,IAAK,GACVA,KAAK,SAAUnB,GAElBgB,EAAQC,OAAO,aACZE,KAAK,OAAQ,cAEhBH,EAAQC,OAAO,aACZE,KAAK,OAAQ,cAEhBoB,EAAMM,QAAQ,GAAI/C,EAAU,KAC5ByC,EAAMvB,EAAQC,OAAO,UAAUY,cAC/BU,EAAMU,MAAMjC,EAAQC,OAAO,UAAUY,aAAaE,MAAM,sCC0IlE,SAASmB,EAAevC,EAAIwC,EAAGC,GAC7B,IAAIC,EAAQ1C,EAAI2C,aAEZC,EAAQC,SAASC,gBAAgBJ,EAAO,kBAC5CE,EAAKG,aAAa,KAAKP,GAGvBI,EAAKG,aAAa,KAAM,MACxBH,EAAKG,aAAa,KAAM,QAExB,IAAK,IAAIrG,EAAI,EAAGA,EAAI+F,EAAMV,OAAQrF,IAAK,CACnC,IAAIsG,EAAQP,EAAM/F,GACduG,EAAOJ,SAASC,gBAAgBJ,EAAO,QAE3C,IAAK,IAAIlC,KAAQwC,EACTA,EAAMzE,eAAeiC,IAAOyC,EAAKF,aAAavC,EAAKwC,EAAMxC,IAEjEoC,EAAKM,YAAYD,GAIrB,OADWjD,EAAImD,cAAc,SAAWnD,EAAIoD,aAAcP,SAASC,gBAAgBJ,EAAM,QAAS1C,EAAIqD,aAC1FH,YAAYN,sDA1TVU,0BAAT,SAAmC3E,GAEtCC,EAAE,mBAAmBC,KAAK,IAG1B,IAEIC,GAAUC,IAAK,EAAGC,MAAO,GAAIC,OAAQ,GAAIC,KAAM,IAC/CqE,EAFgB3E,EAAE,qBAEUQ,QAAUN,EAAOI,KAAOJ,EAAOE,MAC3DwE,EAA2B,GAAbD,EAAoBzE,EAAOC,IAAOD,EAAOG,OAEvDwE,GAAc,EACdF,GAAc,MAChBE,GAAc,GAGhB,IAAIC,GACFC,MAAQ,aACRC,YAAc,cACdC,WAAa,cAIXC,EAASvE,GAAGC,MAAMC,UACnBC,iBAAiB,EAAG6D,IAAc,KAMjCQ,GAJUxE,GAAGC,MAAMC,UACpBC,iBAAiB,EAAG6D,IAAc,IAGxBhE,GAAGC,MAAMK,SACnBmE,YAAYR,EAAa,KAGxBS,EAAa1E,GAAGS,IAAIC,OACrBT,MAAMsE,GAEN3D,OAAO,UACP+D,YAAY,IACZhE,SAAS,GACTiE,WAAW,SAAUnH,GACpB,OAAGyG,EACEzG,EAAI,GAAK,EAAUA,OAAtB,EAEOA,IAKVyG,GACDQ,EAAWG,MAAM,KAInB,IAAIC,EAAe9E,GAAGS,IAAIC,OACvBT,MAAMuE,GACN5D,OAAO,QACPmE,eAAef,GACfgB,cAAc,GACdL,YAAY,IACZE,MAAM,GACND,WAAW,SAAUnH,GACpB,MAAO,KAIPwH,EAAcjF,GAAGS,IAAIyE,OACpB5C,EAAE,SAAS7E,EAAGN,GAAK,OAAOoH,EAAO9G,EAAE2D,QACnCf,EAAE,SAAS5C,GAAK,OAAO+G,EAAO/G,EAAEW,SAGjC+G,EAAanF,GAAGC,MAAMC,UACvBK,OAAO,UAAW,UAAY,YAC9BiB,QAAQ,QAAS,cAAe,eAG/B4D,EAAWpF,GAAGe,OAvEK,mBAuEoBC,OAAO,OAC7CC,KAAK,QAAU+C,EAAazE,EAAOI,KAAOJ,EAAOE,OACjDwB,KAAK,SAAUgD,EAAc1E,EAAOC,IAAOD,EAAOG,QACpDsB,OAAO,KACLC,KAAK,YAAa,aAAe1B,EAAOI,KAAO,IAAMJ,EAAOC,IAAM,KAQnE6F,EAAQrF,GAAGsF,OAAOD,QACnB/D,OAAO,SAAU7D,GAAK,OAAOA,EAAE6D,SAC/BgB,EAAE,SAAU7E,GAAK,OAAO8G,EAAO9G,EAAE2D,MAAQmD,EAAO9C,YAAc,IAC9DpB,EAAE,SAAU5C,GAAK,OAAOA,EAAEW,QAIzBmH,EAAOvF,GAAGS,IAAI8E,OACfjD,EAAE,SAAU7E,GAAK,OAAO8G,EAAO9G,EAAE2D,MAAQmD,EAAO9C,YAAc,IAC9D+D,GAAG,SAAU/H,GAAK,OAAO+G,EAAO,KAChCiB,GAAG,SAAUhI,GAAK,OAAO+G,EAAO/G,EAAE4C,KAarCd,GAAUC,IAAK,EAAGC,MAAO,EAAGC,OAAQ,GAAIC,KAAM,GAE9C,IAEI+F,GAAY,QAAS,cAAe,cAKxCP,EAAW3D,OAAOkE,GAQlB,IAAIC,KAAgBC,KACpBF,EAASG,QAAQ,SAAUnI,GACzBkI,EAAOlI,IAASA,KAAMA,EAAM4D,WAC5BqE,EAAUG,KAAKF,EAAOlI,MAOxB0B,EAAKyG,QAAQ,SAAUpI,EAAGN,GACxBM,EAAEsI,MAAMF,QAAQ,SAASG,GACvBN,EAASvE,IAAI,SAAUzD,GACrBkI,EAAOlI,GAAM4D,OAAOwE,MAAMpI,KAAMA,EAAM0D,KAAM6E,SAASD,EAAA,MAAqB5H,OAAS4H,EAAStI,WASlG0B,EAAKyG,QAAQ,SAAUpI,EAAGN,GACxBoH,EAAO/C,OAAO/D,EAAEsI,MAAM5E,IAAI,SAAU6E,GAClC,OAAOC,SAASD,EAAA,WAKpBX,EAAMM,GAGNnB,EAAOhD,QAAQ,EAAGxB,GAAG0B,IAAIiE,EAAW,SAAUnI,GAC5C,OAAOwC,GAAG0B,IAAIlE,EAAE8D,OAAQ,SAAU7D,GAAK,OAAOA,EAAE4C,EAAU,GAAN5C,EAAE4C,QAIxD+E,EAASpE,OAAO,KACbC,KAAK,QAAS,UACd3D,KAAKwH,GAGRM,EAASpE,OAAO,KACbC,KAAK,QAAS,UACdA,KAAK,YAAa,eAAiBgD,EAAc,KACjD3G,KAAKoH,GAGR,IAAIwB,EAAYd,EAASpD,UAAU,WAChC5C,KAAKuG,GACL1D,QAAQjB,OAAO,KACfC,KAAK,QAAS,SAASxD,EAAGN,GAAK,MAAO,iBAAmBA,IAOxDgJ,EAAe9G,EArLI,mBAqLgB+G,KAAK,OAAO,GACnDpD,EAAemD,EAAa,2BACtBE,OAAQ,KAAMC,aAAc,WAAYC,eAAgB,SACxDF,OAAQ,MAAOC,aAAc,UAAWC,eAAgB,UAE9DvD,EAAemD,EAAa,2BACtBE,OAAQ,KAAMC,aAAc,UAAUC,eAAgB,SACtDF,OAAQ,MAAOC,aAAc,UAAWC,eAAgB,UAE9DvD,EAAemD,EAAa,2BACtBE,OAAQ,KAAMC,aAAc,WAAYC,eAAgB,SACxDF,OAAQ,MAAOC,aAAc,UAAWC,eAAgB,UAG9DL,EAAUlF,OAAO,QACdC,KAAK,IAAK,SAAUxD,GAAK,OAAO8H,EAAK9H,EAAE6D,UACvCL,KAAK,QAAS,cACda,MAAM,OAAQ,SAASrE,EAAGN,GACzB,MAAO,6BAA+BA,EAAI,MAUjCiI,EAASpD,UAAU,iBAC7B5C,KAAKuG,GACL1D,QAAQjB,OAAO,KACbC,KAAK,QAAS,gBAEZe,UAAU,UACd5C,KAAK,SAAU3B,GAAK,OAAOA,EAAE6D,SAC7BW,QAAQjB,OAAO,UACdC,KAAK,QAAS,SAAUxD,EAAGN,GAAK,MAAO,mBAAsBM,EAAEC,KAAO,IAAMP,IAC5E8D,KAAK,KAAM,SAAUxD,GACnB,OAAO8G,EAAO9G,EAAE2D,MAAQmD,EAAO9C,YAAc,IAE/CR,KAAK,KAAM,SAAUxD,GAAK,OAAO+G,EAAO/G,EAAE4C,KAC1CY,KAAK,IAAK,OACVa,MAAM,UAAW,GACjBA,MAAM,OAAO,SAAUrE,GAAK,OAAO0H,EAAW1H,EAAEC,QAKpD,IAAI8I,EAAepB,EAASpD,UAAU,sBACnC5C,KAAKuG,GACL1D,QAAQjB,OAAO,KACbC,KAAK,QAAS,SAASxD,EAAGN,GAAI,MAAO,uCAAuCA,IAErD,GAAxBiC,EAAK,GAAG2G,MAAMvD,QAA2C,IAA1BpD,EAAK,GAAG2G,MAAM,GAAGU,QAClDC,QAAQC,IAAI,oBACZD,QAAQC,IAAIvH,GAEZoH,EAAaxE,UAAU,gBACpB5C,KAAK,SAAU3B,GAAK,OAAOA,EAAE6D,SAC7BW,QAAQjB,OAAO,UACdC,KAAK,QAAS,eACdA,KAAK,KAAM,SAAUxD,GACnB,OAAO8G,EAAO9G,EAAE2D,MAAQmD,EAAO9C,YAAc,IAE/CR,KAAK,KAAM,SAAUxD,GAAK,OAAO+G,EAAO/G,EAAE4C,KAC1CY,KAAK,IAAK,QACVa,MAAM,UAAW,GACjBA,MAAM,OAAO,SAAUrE,GAAK,OAAO0H,EAAW1H,EAAEC,QAChDwE,GAAG,YAAa,SAAUzE,EAAGN,IAwBnC,SAAsBM,EAAGN,GACvB,IAAIyJ,KACJA,EAAEC,QAAU7G,GAAG8G,MAAMC,MAAM,GAC3BH,EAAEI,QAAUhH,GAAG8G,MAAMC,MAAM,GAC3B,IAAIE,EAAe,wCAA0CL,EAAEC,QAAU,IAAM,aAAeD,EAAEI,QAAU,IAAM,QAC5GC,GAAmB,iBAAmB9C,EAAa1G,EAAEC,MAAQ,iBAAmBD,EAAEW,MAAQ,UAC1F6I,GAAmB,mCAAqCxJ,EAAE2D,KAAO,UACjE6F,GAAgB,SAEpB5H,EAAE,cAAgB5B,EAAEC,KAAO,IAAMP,GAAG+J,IAAI,UAAW,GAEnD7H,EAAE,mBAAmB2B,OAAOiG,KAnCsB3J,KAAKyJ,KAAMtJ,EAAGN,KAC5D+E,GAAG,WAAa,SAAUzE,EAAGN,IAkBnC,SAAyBM,EAAGN,GAC1BkC,EAAE,cAAgB5B,EAAEC,KAAO,IAAMP,GAAG+J,IAAI,UAAW,GACnD7H,EAAE,iBAAiB8H,WApBkC7J,KAAKyJ,KAAMtJ,EAAGN,MASrEwI,EAAUE,QAAQ,SAASpI,EAAGN,GAC5BiI,EAASrE,OAAO,WAAa5D,GAC1B6D,OAAO,QACP5B,MAAMuG,EAAUxI,GAAGmE,SACnBL,KAAK,QAAS,mBAAqB9D,GACnC8D,KAAK,IAAKgE,GACVhE,KAAK,YAAa,aAAesD,EAAO9C,YAAc,EAAI,WA+CnEpC,EAAE,mBAAmB6C,GAAG,QAAS,WAC7B,IAAIkF,EAAM/H,EAAE0H,MACTK,EAAIC,SAAS,WACdD,EAAIE,YAAY,UAEbF,EAAIC,SAAS,oBACdrH,GAAGgC,UAAU,aAAaf,KAAK,aAAc,UAC7C5B,EAAE,wBAAwB6H,IAAI,UAAW,SAExCE,EAAIC,SAAS,2BACdrH,GAAGgC,UAAU,aAAaf,KAAK,aAAc,UAC7C5B,EAAE,wBAAwB6H,IAAI,UAAW,SAExCE,EAAIC,SAAS,0BACdrH,GAAGgC,UAAU,aAAaf,KAAK,aAAc,UAC7C5B,EAAE,wBAAwB6H,IAAI,UAAW,WAG3CE,EAAIG,SAAS,UACVH,EAAIC,SAAS,oBACdrH,GAAGgC,UAAU,aAAaf,KAAK,aAAc,WAC7C5B,EAAE,wBAAwB6H,IAAI,UAAW,YAExCE,EAAIC,SAAS,2BACdrH,GAAGgC,UAAU,aAAaf,KAAK,aAAc,WAC7C5B,EAAE,wBAAwB6H,IAAI,UAAW,YAExCE,EAAIC,SAAS,0BACdrH,GAAGgC,UAAU,aAAaf,KAAK,aAAc,WAC7C5B,EAAE,wBAAwB6H,IAAI,UAAW,gGC1VjCM,kBAAT,SAA2BC,GAKhCpI,EAAE,iBAAiBC,KAAK,IAExB,IAAIoI,EAAepE,SAASqE,eAAe,wBAAwBC,YAAc,IAI7ErI,GAAUI,KAAM,EAAGH,IAAK,GAAIC,MAAO,EAAGC,OAAQ,IAChDmI,EAJoBxI,EAAE,yBAISQ,QAAUN,EAAOI,KAAOJ,EAAOE,MAC9DqI,EAAsB,EAAbD,EAAe,EAOtBE,EALY/H,GAAGe,OAAO,iBAAiBC,OAAO,OAC/CC,KAAK,QAAU4G,EAAetI,EAAOI,KAAOJ,EAAOE,OACnDwB,KAAK,SAAW6G,EAASvI,EAAOC,IAAMD,EAAOG,QAGxBsB,OAAO,KAAKC,KAAK,QAAS,gBAC/CA,KAAK,YAAa,aAAe1B,EAAOI,KAAO,IAAMJ,EAAOC,IAAM,KAMjEwI,EAAiB,GAGjBC,EAAcjI,GAAGC,MAAMC,UACxBK,OAAO,UAAW,UAAW,YAC7BiB,QAAQ,QAAS,SAAU,iBAI1B0G,EAASlI,GAAGC,MAAM0G,MACnBpG,OAAO,EAAGsH,IACVrG,QACCxB,GAAGmI,IAAIV,EAAqB,SAAUhK,GAAK,MAAiB,GAAVA,EAAE2G,QACpDpE,GAAG0B,IAAI+F,EAAqB,SAAUhK,GAAK,OAAiB,IAAVA,EAAE2G,UAIpD5D,EAAQR,GAAGS,IAAIC,OAChBE,OAAO,UACPiE,MAAM,GACND,WAAW,SAAUnH,GACpB,OAAOyK,EAAOtD,WAAY8C,EAAe,EAAI,EAAG,SAASjK,GACvD,IAAI2K,EAASpI,GAAGqI,aAAa5K,GAC7B,OAAO2K,EAAOnI,MAAMxC,GAAK2K,EAAOE,QAF3BJ,CAGJzK,KAEJwC,MAAMiI,GAGTH,EAAQ/G,OAAO,KACZC,KAAK,QAAS,UACdA,KAAK,YAAa,eAAyB6G,EAAS,KACpDxK,KAAKkD,GAGR,IAAI+H,EAASvI,GAAGC,MAAMK,SACnBC,OAAOuH,EAAO,IACdtG,QAAQxB,GAAGmI,IAAIV,EAAqB,SAAShK,GAAK,MAAiB,GAAVA,EAAEW,QAAiB4B,GAAG0B,IAAI+F,EAAqB,SAAShK,GAAK,OAAiB,IAAVA,EAAEW,UAC/HoK,OAsBCC,GAnBQzI,GAAGS,IAAIC,OAChBE,OAAO,QACPiE,MAAM,GACN5E,MAAMsI,GAGIvI,GAAGC,MAAMyI,OACnBnI,OAAOmH,EAAe,EAAI,EAAGA,EAAe,GAAK,KACjDlG,OAAOxB,GAAG2C,OAAO8E,EAAqB,SAAShK,GAAK,OAAOA,EAAE2G,SAMlDpE,GAAG2I,KAAKC,UACnBtG,EAAE,SAAS7E,GAAK,OAAOyK,EAAOzK,EAAE2G,SAChC/D,EAAE,SAAS5C,GAAK,OAAO8K,EAAO9K,EAAEW,SAChCyK,aAAa,EAAG,IAAKhB,EAAcC,IAEnBc,CAAQnB,IAOTM,EAAQ/G,OAAO,QAC9BC,KAAK,QAAS,eAELe,UAAU,SACnB5C,KAAKqJ,GACLxG,QAAQjB,OAAO,YACbC,KAAK,QAAS,QACdA,KAAK,KAAM,SAASxD,GAAK,GAAGA,EAAG,MAAO,QAAUA,EAAEqL,MAAMC,OACxD/H,OAAO,QACPC,KAAK,QAAS,oBACdA,KAAK,IAAK,SAASxD,GAAK,GAAGA,EAAG,MAAO,IAAMA,EAAEuL,KAAK,KAAO,MAGxCjB,EAAQ/G,OAAO,KAClCC,KAAK,QAAS,qBAGkBe,UAAU,mBAC1C5C,KAAKqI,EAAoBwB,KAAK,SAASC,EAAEC,GAAK,OAAOA,EAAE/E,MAAQ8E,EAAE9E,SACjEnC,QAAQjB,OAAO,UACfC,KAAK,QAAS,SAASxD,EAAEN,GAAK,MAAO,8BAAgCM,EAAE2L,KAAO,IAAM3L,EAAEsL,KAAO,KAAkB,SAAVtL,EAAE2L,KAAiB,SAAS,MACjInI,KAAK,aAAc,SAASxD,EAAEN,GAC7B,MAAa,SAAVM,EAAE2L,KAAyB,UAA2B,WAE1DnI,KAAK,YAAa,SAASxD,GAAK,MAAO,aAAeA,EAAEsL,KAAO,MAC7DjH,MAAM,YAAa,SAASrE,GAAK,MAAO,aAAeA,EAAEsL,KAAO,MAClE9H,KAAK,KAAM,SAASxD,GAAI,OAAOyK,EAAOzK,EAAE2G,SACxCnD,KAAK,KAAM,SAASxD,GAAI,OAAO8K,EAAO9K,EAAEW,SACxC6C,KAAK,IA9FmB,IA+FxBiB,GAAG,YA4DN,SAAsBzE,EAAGN,GAEvB,IAAIyJ,KACJA,EAAEC,QAAU7G,GAAG8G,MAAMC,MAAM,GAC3BH,EAAEI,QAAUhH,GAAG8G,MAAMC,MAAM,GAE3B,IAAIsC,EAAgB,0CAA4CzC,EAAEC,QAAU,IAAM,aAAeD,EAAEI,QAAU,IAAM,QAGnH,OAFAqC,GAAoB,mEAAqE5L,EAAE6L,OAAS,UAE7F7L,EAAE2L,MACL,IAAK,QACDC,GAAkB,4EAA8EE,OAAOC,WAAW/L,EAAEW,OAAOqL,QAAQ,GAAK,YACxI,MACJ,IAAK,SACDJ,GAAkB,oEAAsEE,OAAOC,WAAW/L,EAAEW,OAAOqL,QAAQ,GAAK,UAChI,MACJ,IAAK,eACDJ,GAAkB,+DAAiEE,OAAOC,WAAW/L,EAAEW,OAAOqL,QAAQ,GAAK,UAInIJ,GAAkB,sEAAwEE,OAAOC,WAAW/L,EAAE2G,OAAOqF,QAAQ,GAAK,UAClIJ,GAAiB,SAEjBhK,EAAE,yBAAyB2B,OAAOqI,GAElC,IAAIK,EAAU1J,GAAGgC,UAAU,4BAA4BvE,EAAEsL,MACvDW,EAAQ5H,MAAM,OAAQ,SAASrE,GAAK,OAAOwK,EAAYxK,EAAE2L,QACzDM,EAAQ5H,MAAM,UAAW,GAE3B,IAAI6H,EAAgB3J,GAAGgC,UAAU,mCAAmCvE,EAAEsL,MACpEY,EAAc7H,MAAM,OAAQ,SAASrE,GAAK,OAAOwK,EAAYxK,EAAE2L,QAC/DO,EAAc7H,MAAM,UAAW,MA3FhCI,GAAG,WA2CN,SAAwBzE,EAAGN,GAEzBkC,EAAE,mBAAmB8H,SAGrB,IAAIuC,EAAU1J,GAAGgC,UAAU,4BAA4BvE,EAAEsL,MAGzDW,EAAQ5H,MAAM,UAAWkG,GACzB0B,EAAQ5H,MAAM,OAAQ,SAASrE,GAAK,OAAOwK,EAAYxK,EAAE2L,QAErCpJ,GAAGgC,UAAU,mCAAmCvE,EAAEsL,MACxDjH,MAAM,UAAW,KAhDfiG,EAAQ/G,OAAO,KAC9BC,KAAK,QAAS,iBAGLe,UAAU,aACnB5C,KAAKqI,EAAoBwB,KAAK,SAASC,EAAEC,GAAK,OAAOA,EAAE/E,MAAQ8E,EAAE9E,SACjEnC,QAAQjB,OAAO,UACbC,KAAK,QAAS,SAASxD,EAAEN,GAAK,MAAO,yBAA2BM,EAAE2L,KAAO,IAAM3L,EAAEsL,KAAO,KAAkB,SAAVtL,EAAE2L,KAAiB,SAAS,MAC5HnI,KAAK,KAAM,SAASxD,GAAI,OAAOyK,EAAOzK,EAAE2G,SACxCnD,KAAK,KAAM,SAASxD,GAAI,OAAO8K,EAAO9K,EAAEW,SACxC6C,KAAK,IAAK,SAASxD,GAAI,OAAO,IAC9BqE,MAAM,iBAAkB,QACxBA,MAAM,UAAWkG,GACjBlG,MAAM,OAAQ,SAASrE,GAAK,OAAOwK,EAAYxK,EAAE2L,QAE9BrB,EAAQ/G,OAAO,KACpCC,KAAK,QAAS,uBAGCe,UAAU,aACzB5C,KAAKqI,EAAoBwB,KAAK,SAASC,EAAEC,GAAK,OAAOA,EAAE/E,MAAQ8E,EAAE9E,SACjEnC,QAAQjB,OAAO,UACbC,KAAK,QAAS,SAASxD,EAAEN,GAAK,MAAO,gCAAkCM,EAAE2L,KAAO,IAAM3L,EAAEsL,KAAO,KAAkB,SAAVtL,EAAE2L,KAAiB,SAAS,MACnInI,KAAK,KAAM,SAASxD,GAAI,OAAOyK,EAAOzK,EAAE2G,SACxCnD,KAAK,KAAM,SAASxD,GAAI,OAAO8K,EAAO9K,EAAEW,SACxC6C,KAAK,IAAK,SAASxD,GAAI,OAAO,KAC9BqE,MAAM,iBAAkB,QACxBA,MAAM,UAAW,GACjBA,MAAM,OAAQ,SAASrE,GAAK,OAAOwK,EAAYxK,EAAE2L,SAiExD/J,EAAE,uBAAuB6C,GAAG,QAAS,WACnC,IAAIkF,EAAM/H,EAAE0H,MACZ1H,EAAE,uBAAuBuK,KAAK,WAC5BvK,EAAE0H,MAAMO,YAAY,YAEtBF,EAAIG,SAAS,UAEblI,EAAE,4CAA4CkI,SAAS,UACvDlI,EAAE,mCAAmCkI,SAAS,UAC9ClI,EAAE,gDAAgDkI,SAAS,UAE3DlI,EAAE,wDAAyD+H,EAAInG,KAAK,cAAcqG,YAAY,UAC9FjI,EAAE,+CAAgD+H,EAAInG,KAAK,cAAcqG,YAAY,UACrFjI,EAAE,4DAA6D+H,EAAInG,KAAK,cAAcqG,YAAY,6FC7OpFuC,cAAT,SAAuBC,GAE5BzK,EAAE,eAAeC,KAAK,IAEtB,IAAIyK,EAAW1K,EAAE,kBAEbE,GAAUC,IAAK,GAAIC,MAAO,GAAIC,OAAQ,GAAIC,KAAM,IAChDE,EAAQkK,EAASlK,QAAUN,EAAOI,KAAOJ,EAAOE,MAChDqI,EAASiC,EAASjC,SAAWvI,EAAOC,IAAMD,EAAOG,OAG/CsK,EAAehK,GAAGC,MAAMK,SACvBkB,QACCxB,GAAGmI,IAAI2B,EAAe,SAASrM,GAAI,OAAOA,EAAE2D,OAC5CpB,GAAG0B,IAAIoI,EAAe,SAASrM,GAAI,OAAOA,EAAE2D,SAE7Cb,OAAO,EAAGV,IAEXoK,EAAejK,GAAGC,MAAMK,SACvBkB,QAAQ,EAAGxB,GAAG0B,IAAIoI,EAAe,SAASrM,GAAI,OAAiB,IAAVA,EAAE2G,UACvD7D,OAAOuH,EAAQ,IAEhBoC,EAAclK,GAAGS,IAAIC,OACpBT,MAAM+J,GACNpJ,OAAO,UACPmE,eAAe+C,GACf9C,cAAc,GACdH,MAAM,GACNF,YAAY,IACZC,WAAW,SAASnH,GACnB,OAAOA,IAGT0M,EAAcnK,GAAGS,IAAIC,OACpBT,MAAMgK,GACNrJ,OAAO,QACPmE,eAAelF,GACfmF,cAAc,KACdL,YAAY,IACZE,MAAM,GACND,WAAW,SAAUnH,GACpB,OAAOA,IAERmH,WAAW,SAASnH,GACnB,MAAO,KAGT2M,EAAapK,GAAGS,IAAIyE,OACnB5C,EAAE,SAAS7E,GAAK,OAAOuM,EAAavM,EAAE2D,QACtCf,EAAE,SAAS5C,GAAK,OAAOwM,EAAaxM,EAAE2G,SACtCiG,YAAY,UAEbC,EAAYtK,GAAGe,OAAO,eAAeC,OAAO,OAC3CC,KAAK,QAASpB,EAAQN,EAAOI,KAAOJ,EAAOE,OAC3CwB,KAAK,SAAU6G,EAASvI,EAAOC,IAAMD,EAAOG,QAC9CsB,OAAO,KACLC,KAAK,YAAa,aAAe1B,EAAOI,KAAO,IAAMJ,EAAOC,IAAM,KAErE8K,EAAUtJ,OAAO,KACZC,KAAK,QAAS,UACdA,KAAK,YAAa,eAAiB6G,EAAS,KAC5CxK,KAAK4M,GAEVI,EAAUtJ,OAAO,KACZC,KAAK,QAAS,UACd3D,KAAK6M,GAGVG,EAAUtJ,OAAO,QACZ5B,MAAM0K,IACN7I,KAAK,QAAS,QACdA,KAAK,IAAKmJ,kCCvErBrN,EAAQ,GACRA,EAAQ,GACRA,EAAQ,GAERA,EAAQ,GACRA,EAAQ,GACRA,EAAQ,GAGRA,EAAQ,kCCPR,SAAUsC,GACN,IAAIkL,EAAWlL,EAAEmL,GAAGC,QAAQC,IAAIC,QAAQ,oBACxCtL,EAAEuL,OAAOL,EAASM,UACdC,uBAAwB,KAE5B,IAAIC,EAAiB1L,EAAEmL,GAAGC,QAAQC,IAAIC,QAAQ,2BAC1CK,EAAwBD,EAAehM,UAAUkM,OACrDF,EAAehM,UAAUkM,OAAS,SAASC,GAEvC,IAAIC,EAAYH,EAAsBI,MAAMrE,KAAMsE,MAAMtM,UAAUgD,MAAMqJ,MAAME,YAE9E,OADAvE,KAAKwE,QAAQtK,KAAK,cAAe8F,KAAKyE,QAAQxN,IAAI,2BAC3CmN,GAXf,CAaGM,OAAOC,QAEV1L,GAAG2L,KAAK,wBAAyB,SAASC,EAAOxM,GAwC/C,IArCA,IAAMyM,KAEAC,EAAc1M,EAAKkK,OACnByC,EAAW3M,EAAKqH,MAgClBuF,GA5BenO,OAAOoO,KAAKH,GAEAjG,QAAQ,SAACnH,GACtC,IAAMwN,EAAYxN,EAAIyN,WAClBC,EAAa,EAGfA,EADE1N,EAAM,IACK,EAEA,EAGf,IAAI2N,EAAUH,EAAUnK,MAAM,EAAGqK,GACjC,GAAGL,EAASM,GAAS,CAEjB,IAAIC,EAAYP,EAASM,GAAS3O,KAAK6O,cAAcC,QAAQ,IAAK,KAC5DC,GACJ/O,KAAMoO,KAAepN,GAAOhB,KAC5B+I,MAAO4F,EACPC,UAAWA,EACXI,YAAahO,EACbiO,SAAWb,KAAepN,GAAOiO,SAAUb,KAAepN,GAAOiO,SAAS,GAE5Ed,EAAa/F,KAAK2G,MAKLpN,EAAE,kBACjBuN,KACKzP,EAAI,EAAGA,EAAI0O,EAAarJ,OAAQrF,IACrCyP,EAAc9G,MAEZ7C,GAAI4I,EAAa1O,GAAGuP,YAAc,IAAMb,EAAa1O,GAAGwP,SAAW,IAAMd,EAAa1O,GAAGmP,UACzFO,KAAMhB,EAAa1O,GAAGO,KACtBgP,YAAab,EAAa1O,GAAGuP,cAMnCV,EAAavB,SACXqC,YAAa,uBACbhC,uBAAwB,uBACxBjL,MAAO,OACPT,KAAMwN,oCCxEV,IAAAG,EAAAhQ,EAAA,GACAiQ,EAAAjQ,EAAA,GACAkQ,EAAAlQ,EAAA,GACAmQ,EAAAnQ,EAAA,IAEA,WAEE,IAGIoQ,EAUKC,EAAUC,EAAQC,EAAWC,EAAYC,EAC9CC,EAASC,EAA0BpL,EAAGjC,EAAGG,EAAOmN,EAAczI,EA2B9D0I,EAzCAC,EAAU7N,GAAGe,OAAO,YAEpB+M,GADeD,EAAQ9M,OAAO,kBACb,GAGjBgN,KACAC,SAGAC,EADkB5O,EAAE,oBACQQ,QAC5BqO,EAAuB,GAAVD,EACbE,GAAa3O,IAAK,GAAIC,MAAO,GAAIC,OAAQ,GAAIC,KAAM,IAQnDyO,GAHSpO,GAAGC,MAAMyI,OACnBnI,OAAO,EAAG,KAEGP,GAAGC,MAAMoO,YAAY9N,OACjC,UAAW,UAAW,UAAW,UAAW,UAC5C,UAAW,UAAW,UAAW,UAAW,aAS5C+N,GALgBtO,GAAGuO,OAAO,SACTvO,GAAGuO,OAAO,MACdvO,GAAGuO,OAAO,QAGV,GACbC,GAAc,EAEdC,GACFrN,UAAMsN,EACNC,KAAM3O,GAAGe,OAAO,MAChBzC,KAAM,WACNmI,WAAOiI,EACPpF,YAAQoF,GAwJR,IAAIE,EAAgB5O,GAAGe,OAAO,eAC1BxB,EAAe,GAAfA,EAAoC,GACtCsP,EAAaZ,EAAY1O,EADG,GAwDhC,SAASuP,IACPL,EAAQE,KAAO3O,GAAGe,OAAO,MACzBuM,EAAUtL,UAAU,KAAKmF,SAEzB6G,EAAQrM,aACLC,SAAS,KACTmN,KAAK,WACL9N,KAAK,aAAa,GAClBA,KAAK,YAAa,aAAekN,EAAUxO,KAAO,IAAMwO,EAAU3O,IAAM,KAE3EwP,WAAW,WACT3B,EAAOrL,UAAU,KACdF,MAAM,aAAc,WACvBsL,EAASpL,UAAU,WAChBF,MAAM,aAAc,WACpBA,MAAM,eAAgB,UACxB,KAEH2M,EAAQnQ,KAAO,WACf2Q,OAAYP,GAGd,SAASQ,EAAOzI,EAAO2C,GAQrB,GAPW,UAARA,GACDpJ,GAAG+C,MAAMoM,kBAMPV,EAAQE,KAAKS,SAAWrI,KAA5B,CAKA,IAAI8H,EAAaZ,EAAYE,EAAUxO,KAAOwO,EAAU1O,MACpD4P,EAAcnB,EAAaC,EAAU3O,IAAM2O,EAAUzO,OAEzD+O,EAAQE,KAAO3O,GAAGe,OAAOgG,MAEzB,IAAIuI,EAAS9B,EAAK8B,OAAO7I,GACvB8I,EAAKD,EAAO,GAAG,GAAKA,EAAO,GAAG,GAC9BE,EAAKF,EAAO,GAAG,GAAKA,EAAO,GAAG,GAC9BhN,GAAKgN,EAAO,GAAG,GAAKA,EAAO,GAAG,IAAM,EACpCjP,GAAKiP,EAAO,GAAG,GAAKA,EAAO,GAAG,IAAM,EACpCrP,EAAQ,GAAKkC,KAAKT,IAAI6N,EAAKV,EAAYW,EAAKH,GAC5CI,GAAaZ,EAAa,EAAI5O,EAAQqC,EAAG+M,EAAc,EAAIpP,EAAQI,GAErEoO,EAAQiB,UAAYzP,EAEpB+N,EAAQrM,aACLC,SAAS,KACTX,KAAK,aAAa,GAClBA,KAAK,YAAa,aAAewO,EAAY,UAAYxP,EAAQ,KAGpEqN,EAAUtL,UAAU,KAAKmF,SAEzBkG,EAAOrL,UAAU,KACdF,MAAM,aAAc,UAEvBsL,EAASpL,UAAU,WAChBF,MAAM,aAAc,SAASrE,GAC5B,OAAI0E,KAAKU,MAAMpF,EAAEwF,GAAK,OAAUwD,EAAMxD,GAC7B,UAEF,WAERnB,MAAM,eAAgB,EAAM7B,EAAQ,MAEvCwO,EAAQnQ,KAAO,aAvCbwQ,IA0DJ,SAASG,EAAY5C,GACnBoC,EAAQhI,MAAQ4F,EAChBsD,SACsBjB,IAAlBD,EAAQhI,MACVsH,EAAO6B,OAAOtQ,KAAK,iBACVsO,GACTG,EAAO6B,OAAOtQ,KAAKsO,EAAQnH,MAAM4F,GAAS3O,MAE5CmS,EAAiBxD,GAGnB,SAASyD,EAAW1O,GAClBqN,EAAQrN,KAAOA,EAEf2O,IACAJ,IAEA5B,EAAO3M,KAAK9B,KAAK8B,GACjByO,IAGF,SAASG,EAAarD,GACpB8B,EAAQnF,OAASqD,EACjBgD,IAGIlB,EAAQnF,OAed,SAA2BqD,GACzB,GAAGA,GAAYiB,EAAS,CACtB,IAAIqC,EAAcrC,EAAQtE,OAAOqD,GAAUjP,KAAQkQ,EAAQtE,OAAOqD,GAAUjP,KAAOiP,EACnFtN,EAAE,kBAAkBC,KAAK2Q,IAb3BC,CAAkBvD,GAGpB,SAASkD,EAAiBxD,GAErBA,GAAWuB,GACZvO,EAAE,kBAAkBC,KAAKsO,EAAQnH,MAAM4F,GAAS3O,MA4DpD,SAASqS,IACFzB,GAAeE,GAEpBpB,EAASpL,UAAU,WAChBF,MAAM,OAAQ,SAASrE,GACtB,OAAImQ,EAAQtE,OAAOtK,eAAevB,EAAEwF,KAClC2K,EAAQtE,OAAO7L,EAAEwF,IAAI7D,KAAKJ,eAAeyP,EAAQrN,MAC1CgN,EAAUR,EAAQtE,OAAO7L,EAAEwF,IAAI7D,KAAKqP,EAAQrN,OAE9C,SAIb,SAASuO,IAGP,IAAIQ,EAFJ,GAAK7B,GAAeE,IAGC,aAAjBC,EAAQnQ,KAER6R,EADE1B,EAAQhI,MACJmH,EAAQnH,MAAMgI,EAAQhI,OAEtBmH,EAAQwC,SAEU,UAAjB3B,EAAQnQ,OAEf6R,EADE1B,EAAQnF,OACJsE,EAAQtE,OAAOmF,EAAQnF,QAEvBsE,EAAQnH,MAAMgI,EAAQhI,aAIpBiI,IAARyB,GAAJ,CAEA,IAAIE,EAAWxS,OAAOoO,KAAKkE,EAAI/Q,MAC5B+B,IAAI,SAAS1D,GACZ,OAAQ6E,GAAI7E,EAAG4C,EAAG8P,EAAI/Q,KAAK3B,MAG/B4C,EAAEmB,OAAO2O,EAAIG,QACb5C,EAAW3M,OAAO,YACfzD,KAAKqQ,GAERD,EAAW1L,UAAU,SAASmF,SAC9BuG,EAAW1M,OAAO,QACfC,KAAK,QAAS,QACdA,KAAK,IAAKiE,EAAKmL,IAElB3C,EAAW1L,UAAU,UAAUmF,SAC3BgJ,EAAI/Q,KAAKJ,eAAeyP,EAAQrN,OAClCsM,EAAW1M,OAAO,UACfC,KAAK,QAAS,kBACdA,KAAK,IAAK,GACVA,KAAK,KAAMqB,EAAEmM,EAAQrN,OACrBH,KAAK,KAAMZ,EAAE8P,EAAI/Q,KAAKqP,EAAQrN,SAQrC,SAASmP,EAAY9S,GACnB,GAAK+Q,EAAL,CAEA,IAAIgC,EAEAC,GADJD,EAAcxQ,GAAG8G,MAAM9G,GAAG+C,MAAM2N,gBACN,GACtBC,EAAUH,EAAY,GAE1B3C,EAAQ/L,MAAM,aAAc,WACzBA,MAAM,UAAW,GACjBA,MAAM,aAAc,SACpBA,MAAM,OAAQ2O,EAAU3C,EAAc,GAAK,MAC3ChM,MAAM,MAAO6O,EAAU,OAtT1BrO,EAAItC,GAAGC,MAAMK,SACVC,OAAO,EAAGsO,EAAa,IACvB+B,OAAM,GAETvQ,EAAIL,GAAGC,MAAMK,SACVkB,QAAQ,EAAG,MACXjB,OAAOsQ,GAAmB,IAG7BpD,EAAUmB,EAAc5N,OAAO,OAC5BC,KAAK,QAASgN,GACdhN,KAAK,SAAU,KACbD,OAAO,KACTC,KAAK,YAAa,aAAe1B,EAAc,IAAMA,EAAa,MAErEmO,EAAaD,EAAQzM,OAAO,MACjBA,OAAO,QACfC,KAAK,QAAS,cACdA,KAAK,QAAS4N,GACd5N,KAAK,SArBc,IAuBtB0M,EAAQ3N,GAAGS,IAAIC,OACZT,MAAMI,GACNO,OAAO,QACPiE,MAAM,GACNlE,UAAUkO,GACVlK,YAAY,IACZC,WAAW5E,GAAGuO,OAAO,MAExBb,EAAW1M,OAAO,KACfC,KAAK,QAAS,UACd3D,KAAKqQ,GAERnN,EAAQR,GAAGS,IAAIC,OACZT,MAAMqC,GACN1B,OAAO,UACPgE,WAAW,SAASnH,GAAK,OAAOA,IAChCkD,UAvCmB,IAwCnBkE,MAAM,IACNF,YAAY,IAEf+I,EAAW1M,OAAO,KACfC,KAAK,QAAS,UACdA,KAAK,YAAa,mBAClB3D,KAAKkD,GAER0E,EAAOlF,GAAGS,IAAIyE,OACX5C,EAAE,SAAS7E,GAAK,OAAO6E,EAAE7E,EAAE6E,KAC3BjC,EAAE,SAAS5C,GAAK,OAAO4C,EAAE5C,EAAE4C,KA0QhChB,EAAE,iBAAiB6C,GAAG,gCAAiC,SAAS0E,GAE9D,IAAIkK,EAAkBzR,EAAE0H,MAAMgK,MAE9B1R,EAAE,eAAeuK,KAAK,WACpBvK,EAAE0H,MAAMG,IAAI,UAAU,WAIxB,IAAIwF,EAAcoE,EAAgBE,MAAM,KAEpCC,EAAW9O,KAAKU,MAAM6J,EAAY,GAAG,KACrCC,EAAWD,EAAY,GACvBJ,EAAYI,EAAY,GAAGF,QAAQ,IAAK,KAExC0E,EAAiB7R,EAAE0H,MAAMX,KAAK,iBAAmB0K,EAAkB,MAAMxR,OAC7ED,EAAE,uBAAuBuK,KAAK,WAC5BvK,EAAE0H,MAAM8F,KAAKqE,KAGf7R,EAAE8R,MACA/H,KAAM,MACNhK,MACE6D,GAAI0J,EACJlG,MAAO6F,GAET8E,SAAU,OACVC,YAAa,kCACbC,IAAK,aACLC,QAAS,SAASnS,GAChBsH,QAAQC,IAAIvH,GACZsH,QAAQC,IAAI,gBAEM,GAAfvH,EAAKoD,QACNpD,EAAK0G,MACH0L,YAAa7E,EACb5G,SACA0L,kBACAC,aAIuB,GAAxBtS,EAAK,GAAG2G,MAAMvD,SACfpD,EAAK,GAAG2G,QAEF4L,OAAO,EACPC,YAAY,EACZC,SAAS,EACTC,UAAU,EACVC,aAAa,EACbtL,MAAM,GACNpC,YAAY,EACZC,WAAW,EACX0N,MAAM,EACN5Q,KAAM,OACNgD,MAAM,KAKe,GAA1BhF,EAAK,GAAGsS,QAAQlP,SACjBpD,EAAK,GAAGsS,UAEFtQ,KAAK,OACLE,SAEIC,KAAK,QACLnD,MAAO,IAGPmD,KAAK,QACLnD,MAAO,IAGPmD,KAAK,aACLnD,MAAO,OAQnBiB,EAAE,eAAeuK,KAAK,WACpBvK,EAAE0H,MAAMG,IAAI,UAAU,WAIxB,EAAA6F,EAAA5N,gBAAeC,EAAK,GAAGsS,UACvB,EAAAzE,EAAAzF,mBAAkBpI,EAAK,GAAGqS,iBAC1B,EAAAzE,EAAAjJ,2BAA0B3E,IAC1B,EAAA8N,EAAArD,eAAczK,EAAK,GAAG2G,OAEtB,IAAIkM,EAAgBC,KAAKC,MAAM9S,EAAE,mBAAmB0R,OAEpDkB,EAAcG,KAAO,KACrBH,EAAcH,UAAY1S,EAAK,GAAG2G,MAAM,GAAG+L,UAC3CG,EAAcJ,SAAWzS,EAAK,GAAG2G,MAAM,GAAG8L,SAC1CI,EAAcL,YAAcxS,EAAK,GAAG2G,MAAM,GAAG6L,YAC7CK,EAAcI,kBAAoBhT,EAAE,iBAAiB0R,MACrDkB,EAAc5N,YAAchF,EAAE,sBAAsB+G,KAAK,SAAS2K,MAClEkB,EAAc3N,WAAajF,EAAE,qBAAqB+G,KAAK,SAAS2K,MAAQ,IACxEkB,EAAcK,WAAajT,EAAE,kBAAkB0R,MAC/CkB,EAAcM,YAAclT,EAAE,gBAAgB0R,MAE9C,IAAIyB,EAAaN,KAAKO,UAAUR,GAChC5S,EAAE,mBAAmBwN,KAAK2F,MAI9B1D,IAEA,IACI4D,EAAa,IADHrT,EAAE,sBAELmD,OAAS,IAClBkQ,EAAa,KAGf1D,WAAW,WACQhB,EAAQhM,UAAU,aAAaiP,GAC7ChQ,KAAK,UAAW,SAASxD,GAExB,OADAyR,EAAOzR,EAAG,UACHA,EAAEwF,MAEZyP,KA9kBH3E,EAAO4E,OAAS3S,GAAGe,OAAO,iBAC1BgN,EAAO6E,KAAO5S,GAAGe,OAAO,eACxBgN,EAAO6B,OAAS5P,GAAGe,OAAO,iBAC1BgN,EAAO3M,KAAOpB,GAAGe,OAAO,eAExBoM,EAAUnN,GAAGe,OAAO,YAGtB,WAEE,IAAI8R,EAAS7S,GAAGe,OAAO,oBAAoB,GAAG,GAE9C+M,GAAiB+E,EAAOC,WAAYD,EAAOE,WAE3C,IAAIlE,EAAaZ,EAAYE,EAAUxO,KAAOwO,EAAU1O,MACpD4P,EAAcnB,EAAaC,EAAU3O,IAAM2O,EAAUzO,OAGrDsT,EAAShT,GAAGe,OAAO,iBACvBiN,EAAUgF,EAAOhS,OAAO,OACrBC,KAAK,QAAS,kBACdA,KAAK,QAASgN,GACdhN,KAAK,SAAUiN,GACfhM,GAAG,QAAS4M,GACV9N,OAAO,KACTC,KAAK,YAAa,aAAekN,EAAUxO,KAAO,IAAMwO,EAAU3O,IAAM,KAG3E4N,EAAWY,EAAQhN,OAAO,KACvBC,KAAK,QAAS,YAGjBoM,EAASW,EAAQhN,OAAO,KACrBC,KAAK,QAAS,UAGjBqM,EAAYU,EAAQhN,OAAO,KACxBC,KAAK,QAAS,aAEjBsM,EAAavN,GAAGiT,IAAIC,YACjBjT,MAAMgO,GACNwB,WAAWZ,EAAa,EAAGQ,EAAc,IAE5C7B,EAAOxN,GAAGiT,IAAIzF,OACXD,WAAWA,GAGdvN,GAAG2L,KAAK,cAAe,SAASC,EAAOuH,GACrC,GAAIvH,EAAO,MAAMA,EAIjBwB,EAASpL,UAAU,WAChB5C,KAAKgU,SAASC,QAAQF,EAAIA,EAAGG,QAAQlG,UAAUmG,UAC/CtR,QACEjB,OAAO,QACTC,KAAK,QAAS,UACdA,KAAK,iBAAkB,SAASxD,GAC/B,OAAOA,EAAEwF,KAEVhC,KAAK,IAAKuM,GACVtL,GAAG,WAAY,WACdoL,EAAUtL,UAAU,KAAKmF,SACJ,UAAjBsH,EAAQnQ,MACV0R,OAAatB,KAGhBxM,GAAG,YAAa,SAASzE,GACnBmQ,EAAQtE,OAAOtK,eAAevB,EAAEwF,KAKrCjD,GAAGe,OAAOgG,MAAMjF,MAAM,SAAU,WAEhCwL,EAAUtM,OAAO,QACdwS,MAAM/V,GACNwD,KAAK,QAAS,mBACdA,KAAK,IAAKuM,GACV1L,MAAM,eAAgB,IAAM2M,EAAQiB,UAAY,MACnDpC,EAAUtM,OAAO,QACdwS,MAAM/V,GACNwD,KAAK,QAAS,mBACdA,KAAK,IAAKuM,GACV1L,MAAM,eAAgB,EAAI2M,EAAQiB,UAAY,MAEjDM,EAAavS,EAAEwF,IAOfsN,EAAY9S,EAAEwF,KAxBZjD,GAAGe,OAAOgG,MAAMjF,MAAM,SAAU,iBA4BtCuL,EAAOrL,UAAU,UACd5C,KAAKgU,SAASC,QAAQF,EAAIA,EAAGG,QAAQjG,QAAQkG,UAC7CtR,QACEjB,OAAO,QACTC,KAAK,QAAS,SAASxD,GAAK,MAAO,kBAAoBA,EAAEwF,KACzDhC,KAAK,IAAKuM,GACVtL,GAAG,WAAY,WACdoL,EAAUtL,UAAU,KAAKmF,SACJ,aAAjBsH,EAAQnQ,MACV2Q,OAAYP,GAqVpBb,EAAQ/L,MAAM,UAAW,KAhVpBI,GAAG,YAAa,SAASzE,GAGxB8S,EAAY9S,EAAEwF,IAET2K,GAAaA,EAAQpL,OAAS,GAAOoL,EAAQnH,MAAMjE,OAAS,IAAOoL,EAAQnH,MAAMzH,eAAevB,EAAEwF,IACrGjD,GAAGe,OAAOgG,MAAMjF,MAAM,SAAU,gBAIlC9B,GAAGe,OAAOgG,MAAMjF,MAAM,SAAU,WAEhCwL,EAAUtM,OAAO,QACdwS,MAAM/V,GACNwD,KAAK,QAAS,mBACdA,KAAK,IAAKuM,GACbF,EAAUtM,OAAO,QACdwS,MAAM/V,GACNwD,KAAK,QAAS,mBACdA,KAAK,IAAKuM,GACbyB,EAAYxR,EAAEwF,OAEff,GAAG,QAAS,SAASzE,GACpBuC,GAAG+C,MAAMoM,kBACJvB,EAAQnH,MAAMzH,eAAevB,EAAEwF,KAGpCiM,EAAOzR,KAGX6Q,GAAa,IAucjBmF,GACAhI,OAAOuD,WAjQP,WACER,GAAc,EAGdrB,EAAQpM,OAAO,YAAY2S,QAAQ,eAAe,GAClDvG,EAAQpM,OAAO,UAAU2S,QAAQ,eAAe,GAChDvG,EAAQuG,QAAQ,eAAe,GAE/B1T,GAAG2L,KAAK,wBAAyB,SAASgI,EAAKhI,GAC7C,GAAIgI,EAAK,MAAMA,EAEf/F,EAAUjC,EAIVyC,EAAU7N,MAAMqN,EAAQgG,SAASC,YACjCzF,EAAU5M,OAAOoM,EAAQgG,SAASE,gBAElCxR,EAAEd,OAAOoM,EAAQgG,SAASG,WAC1BrG,EAAW3M,OAAO,YACfzD,KAAKkD,GAERuN,EAAO6E,KAAKtT,KAAKsO,EAAQgG,SAAShB,KAAKoB,eAElB,UAAjBvF,EAAQnQ,MACTsP,EAAQnH,MAAMzH,eAAeyP,EAAQhI,OAGtCwI,EAAYR,EAAQhI,OAFpBqI,IAKEL,EAAQrN,MACRqN,EAAQrN,MAAQwM,EAAQgG,SAASG,UAAU,IAC3CtF,EAAQrN,MAAQwM,EAAQgG,SAASG,UAAU,GAC7CjE,EAAWrB,EAAQrN,MAEnB0O,EAAWlC,EAAQgG,SAASG,UAAU,IAGxCvF,GAAc,EAEduB,IACAJ,IACAE,IAEA1C,EAAQuG,QAAQ,eAAe,MAoNL,MAnoBhC,iCCmJA,SAASO,EAAmBC,GAC1B,OAAOA,EAAK9V,MAAQ,yFAGtB,SAAS+V,EAAkBD,GACzB,OAAOA,EAAK9V,MAAQ,IAAM,oDAmB5B,SAASgW,IAEL,IAAInC,EAAgB5S,EAAE,mBAAmB0R,MAEzC1R,EAAE8R,MACA/H,KAAM,OACNkI,IAAK,kBACLlS,KAAM6S,EACNoC,SACEC,eAAiB,oBAEnB/C,QAAS,SAASnS,GAChBsH,QAAQC,IAAI,0BACZtH,EAAE,oBAAoBwN,KAAKzN,MA7LnCC,EAAEiE,UAAUiR,MAAM,WAOhB,IAAIC,EAAelR,SAASqE,eAAe,gBACvC8M,EAAoBpV,EAAEmV,GAAcE,KAAK,OAK7CrV,EAAEmV,GAAcG,SAAS,UAAU9H,KAAKxN,EAAEmV,GAAczD,MAAQ,OAAO7J,KACrEvH,KAAQN,EAAEmV,GAAczD,OAAS,IAAM0D,GAAqB,IAC5DG,UAAa,eAAiBvV,EAAEmV,GAAczD,OAAS,IAAM0D,GAAqB,OAEpFpV,EAAEmV,GAAcG,SAAS,SAASzN,IAAI,QAAS7H,EAAEmV,GAAczD,OAAS,IAAM0D,GAAqB,KAEnGD,EAAaK,QAAU,WAErB,IAAI5C,EAAgBC,KAAKC,MAAM9S,EAAE,mBAAmB0R,OACpDkB,EAAcI,kBAAoBtL,KAAK3I,MACvC,IAAIoU,EAAaN,KAAKO,UAAUR,GAChC5S,EAAE,mBAAmBwN,KAAK2F,GAE1BnT,EAAE0H,MAAM4N,SAAS,UAAU9H,KAAK9F,KAAK3I,MAAQ,OAAO8I,KAClDvH,KAAQoH,KAAK3I,OAAS,IAAMqW,GAAqB,IACjDG,UAAa,eAAiB7N,KAAK3I,OAAS,IAAMqW,GAAqB,OAEzEpV,EAAE0H,MAAM4N,SAAS,SAASzN,IAAI,QAASH,KAAK3I,OAAS,IAAMqW,GAAqB,MAIlF,IAAIK,EAAgBxR,SAASqE,eAAe,iBACxCoN,EAAqB1V,EAAEyV,GAAeJ,KAAK,OAG/CrV,EAAEyV,GAAeH,SAAS,UAAU9H,KAAKxN,EAAEyV,GAAe/D,MAAQ,MAAM7J,KACtEvH,KAAQN,EAAEyV,GAAe/D,OAAS,IAAMgE,GAAsB,IAC9DH,UAAa,eAAiBvV,EAAEyV,GAAe/D,OAAS,IAAMgE,GAAsB,OAEtF1V,EAAEyV,GAAeH,SAAS,SAASzN,IAAI,QAAS7H,EAAEyV,GAAe/D,OAAS,IAAMgE,GAAsB,KAEtGD,EAAcD,QAAU,WACtB,IAAI5C,EAAgBC,KAAKC,MAAM9S,EAAE,mBAAmB0R,OACpDkB,EAAcK,WAAavL,KAAK3I,MAChC,IAAIoU,EAAaN,KAAKO,UAAUR,GAChC5S,EAAE,mBAAmBwN,KAAK2F,GAE1BnT,EAAE0H,MAAM4N,SAAS,UAAU9H,KAAK9F,KAAK3I,MAAQ,MAAM8I,KACjDvH,KAAQoH,KAAK3I,OAAS,IAAM2W,GAAsB,IAClDH,UAAa,eAAiB7N,KAAK3I,OAAS,IAAM2W,GAAsB,OAE1E1V,EAAE0H,MAAM4N,SAAS,SAASzN,IAAI,QAASH,KAAK3I,OAAS,IAAM2W,GAAsB,MAInF,IAAIC,EAAc1R,SAASqE,eAAe,eACtCsN,GACFC,EAAK,OACLC,EAAK,UACLC,EAAK,OACLC,EAAK,SAEHC,EAAmBjW,EAAE2V,GAAaN,KAAK,OAG3CrV,EAAE2V,GAAaL,SAAS,UAAU9H,KAAKoI,EAAW5V,EAAE2V,GAAajE,QAAQ7J,KACvEvH,KAAQN,EAAE2V,GAAajE,OAAS,IAAMuE,GAAoB,IAC1DV,UAAa,eAAiBvV,EAAE2V,GAAajE,OAAS,IAAMuE,GAAoB,OAElFjW,EAAE2V,GAAaL,SAAS,SAASzN,IAAI,QAAS7H,EAAE2V,GAAajE,OAAS,IAAMuE,GAAoB,KAEhGN,EAAYH,QAAU,WACpB,IAAI5C,EAAgBC,KAAKC,MAAM9S,EAAE,mBAAmB0R,OACpDkB,EAAcM,YAAcxL,KAAK3I,MACjC,IAAIoU,EAAaN,KAAKO,UAAUR,GAChC5S,EAAE,mBAAmBwN,KAAK2F,GAE1BnT,EAAE0H,MAAM4N,SAAS,UAAU9H,KAAKoI,EAAWlO,KAAK3I,QAAQ8I,KACtDvH,KAAQoH,KAAK3I,OAAS,IAAMkX,GAAoB,IAChDV,UAAa,eAAiB7N,KAAK3I,OAAS,IAAMkX,GAAoB,OAExEjW,EAAE0H,MAAM4N,SAAS,SAASzN,IAAI,QAASH,KAAK3I,OAAS,IAAMkX,GAAoB,MAOjFjW,EAAE,sBAAsBkW,aACtBC,OAAQ,IACR3V,MAAO,GACP4V,YAAa,WACbC,WAAY,YACZtX,MAAO,GACP+J,IAAK,EACLzG,IAAK,IACLiU,iBAAiB,EACjBC,cAAe3B,IAEjB5U,EAAE,qBAAqBkW,aACrBC,OAAQ,IACR3V,MAAO,GACP4V,YAAa,WACbC,WAAY,YACZtX,MAAO,EACP+J,KAAM,IACNzG,IAAK,IACLiU,iBAAiB,EACjBC,cAAezB,IAGjB9U,EAAE,sBAAsB6C,GAAG,SAAU,WACnC,IAAI+P,EAAgBC,KAAKC,MAAM9S,EAAE,mBAAmB0R,OACpDkB,EAAc5N,YAAchF,EAAE0H,MAAMX,KAAK,SAAS2K,MAClD,IAAIyB,EAAaN,KAAKO,UAAUR,GAChC5S,EAAE,mBAAmBwN,KAAK2F,KAE3BnT,EAAE,qBAAqB6C,GAAG,SAAU,WACnC,IAAI+P,EAAgBC,KAAKC,MAAM9S,EAAE,mBAAmB0R,OACpDkB,EAAc3N,WAAajF,EAAE0H,MAAMX,KAAK,SAAS2K,MAAQ,IACzD,IAAIyB,EAAaN,KAAKO,UAAUR,GAChC5S,EAAE,mBAAmBwN,KAAK2F,KAG5BnT,EAAE,gBAAgB6C,GAAG,QAAS,WAC1B,IAAIkF,EAAM/H,EAAE0H,MACZ1H,EAAE,gBAAgBuK,KAAK,WACrBvK,EAAE0H,MAAMO,YAAY,YAEtBF,EAAIG,SAAS,YAGjBlI,EAAE,UAAU6C,GAAG,QAAS,WACtB,IAAI2T,EAAMxW,EAAE0H,MACT8O,EAAIxO,SAAS,cACdwO,EAAIvO,YAAY,eAEhBuO,EAAIC,QAAQ,iBAAiB1P,KAAK,eAAekB,YAAY,cAC7DuO,EAAItO,SAAS,iBAKjByH,WAAW,WACR3P,EAAE,iBAAiB0R,IAAI,yBAAyBgF,QAAQ,mBACvD,OAYN1W,EAAE,iBAAiB2W,QAAQ,WACzB5B,MAEF/U,EAAE,kBAAkB2W,QAAQ,WAC1B5B,MAEF/U,EAAE,gBAAgB2W,QAAQ,WACxB5B,MAEF/U,EAAE,sBAAsB6C,GAAG,SAAU,WACnCkS,MAEF/U,EAAE,qBAAqB6C,GAAG,SAAU,WAClCkS","file":"main.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 4);\n","export function drawBarZoomMap(data) {\n  \n  $('#zoom-bar-chart').html('');\n  // console.log(data);\n\n  var bar_zoom_sp = $('#zoom-bar-chart');\n  var margin = {top: 20, right: 0, bottom: 30, left: 0},\n      width_bar = bar_zoom_sp.width() - margin.left - margin.right,\n      height_bar = 120 - margin.top - margin.bottom;\n\n  var x0 = d3.scale.ordinal()\n    .rangeRoundBands([0, width_bar], .1);\n\n  var x1 = d3.scale.ordinal();\n\n  var y = d3.scale.linear()\n    .range([height_bar, 0]);\n\n  var xAxis = d3.svg.axis()\n    .scale(x0)\n    .tickSize(0)\n    .orient(\"bottom\");\n\n  var yAxis = d3.svg.axis()\n    .scale(y)\n    .orient(\"left\");\n\n  var color = d3.scale.ordinal()\n    .range([\"#76c6cc\", \"#e8b251\", \"#44a484\"]);\n\n  var svg_bar = d3.select('#zoom-bar-chart').append(\"svg\")\n      .attr(\"width\", width_bar + margin.left + margin.right)\n      .attr(\"height\", height_bar + margin.top + margin.bottom)\n    .append(\"g\")\n      .attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\");\n\n    if(data){\n          var yearsNames_bar = data.map(function(d) { return d.year; });\n          var rateNames = data[0].values.map(function(d) { return d.rate; });\n\n          x0.domain(yearsNames_bar);\n          x1.domain(rateNames).rangeRoundBands([0, x0.rangeBand()]);\n          y.domain([0, d3.max(data, function(year) { return d3.max(year.values, function(d) { return d.value; }); })]);\n\n          svg_bar.append(\"g\")\n              .attr(\"class\", \"x axis\")\n              .attr(\"transform\", \"translate(0,\" + height_bar + \")\")\n              .call(xAxis);\n\n          svg_bar.append(\"defs\")\n            .append(\"pattern\")\n              .attr(\"id\", \"img1\")\n              .attr(\"patternUnits\", \"objectBoundingBox\")\n              .attr(\"width\", \"7\")\n              .attr(\"height\", \"68\")\n              .append(\"image\")\n                .attr(\"xlink:href\", \"/img/zoom-bar.png\")\n                .attr(\"width\", \"7\")\n                .attr(\"height\", \"68\")\n\n          svg_bar.append(\"defs\")\n            .append(\"pattern\")\n              .attr(\"id\", \"img2\")\n              .attr(\"patternUnits\", \"objectBoundingBox\")\n              .attr(\"width\", \"7\")\n              .attr(\"height\", \"68\")\n              .append(\"image\")\n                .attr(\"xlink:href\", \"/img/zoom-bar-right.png\")\n                .attr(\"width\", \"7\")\n                .attr(\"height\", \"68\")\n\n\n          svg_bar.select('.y').transition().duration(500).delay(1300).style('opacity','1');\n\n          var slice = svg_bar.selectAll(\".slice\")\n              .data(data)\n              .enter().append(\"g\")\n              .attr(\"class\", \"g\")\n              .attr(\"transform\",function(d) { return \"translate(\" + x0(d.year) + \",0)\"; });\n\n          slice.selectAll(\"rect\")\n              .data(function(d) { return d.values; })\n              .enter().append(\"rect\")\n                  .attr(\"width\", x1.rangeBand())\n                  .attr(\"x\", function(d) { return x1(d.rate); })\n                  .style(\"fill\", function(d) { return color(d.rate) })\n                  .attr(\"y\", function(d) { return y(0); })\n                  .attr(\"height\", function(d) { return height_bar - y(0); })\n                  .on(\"mouseover\", function(d) {\n                      // d3.select(this).style(\"fill\", d3.rgb(color(d.rate)).darker(2));\n                  })\n                  .attr(\"rx\", 2) \n                  .attr(\"ry\", 2)\n              .on(\"mouseout\", function(d) {\n                  // d3.select(this).style(\"fill\", color(d.rate));\n              });\n          \n\n          slice.selectAll(\"rect\")\n              .transition()\n              .delay(function (d) {return Math.random()*1000;})\n              .duration(1000)\n              .attr(\"y\", function(d) { return y(d.value); })\n              .attr(\"height\", function(d) { return height_bar - y(d.value); });\n              // .attr(\"d\", function(d,i){ \n              //     return rectangleBarRadius(10+40*i,100-d.value,20,d.value,20);\n              // });\n\n          // function rectangleBarRadius(x, y, width, height, radius){\n          //   return \"M\" + x + \",\" + y\n          //        + \"h\" + (width - radius)\n          //        + \"a\" + radius + \",\" + radius + \" 0 0 1 \" + radius + \",\" + radius\n          //        + \"v\" + (height_bar - 2 * radius)\n          //        + \"a\" + radius + \",\" + radius + \" 0 0 1 \" + -radius + \",\" + radius\n          //        + \"h\" + (radius - width)\n          //        + \"z\";\n          // };\n\n\n          // Add BRUSH \n          var brush = d3.svg.brush()\n            .x(x0)\n            .on(\"brush\", function(){\n              var domain = x0.domain();\n\n              var domain_rate = width_bar/domain.length;\n              var selected = (brush.empty())?[0, width_bar]:brush.extent();\n\n              var selected_start = Math.floor(selected[0]/domain_rate);\n              var selected_end = Math.floor(selected[1]/domain_rate);\n              selected_end = (selected_end < (domain.length - 1))?selected_end:(domain.length - 1);\n\n              var selected_brush = [\n                domain[selected_start],\n                domain[selected_end],\n              ];\n\n              // console.log(selected_brush);\n            });\n\n          svg_bar.append(\"g\")\n          .attr(\"class\", \"x brush\")\n          .call(brush)\n          .selectAll(\"rect\")\n            .attr(\"y\", 0)\n            .attr(\"height\", height_bar);  \n\n          svg_bar.select('.resize.w')\n            .attr(\"fill\", \"url(#img1)\")\n\n          svg_bar.select('.resize.e')\n            .attr(\"fill\", \"url(#img2)\")\n\n          brush.extent([10, width_bar-10]);\n          brush(svg_bar.select(\".brush\").transition());\n          brush.event(svg_bar.select(\".brush\").transition().delay(1000))\n    }\n\n}\n\n","export function drawTemperatureVegetation(data) {\n    \n    $('#chart-gradient').html('');\n\n\n    var area_ContainerID = \"#chart-gradient\";\n    var area_chart_sp = $('.gradient-wrapper');\n    var margin = {top: 0, right: 15, bottom: 30, left: 15},\n        width_area  = area_chart_sp.width() - margin.left - margin.right,\n        height_area = width_area * 0.6  - margin.top  - margin.bottom;\n\n    let mobile_area = false;\n    if (width_area <= 500) {\n      mobile_area = true;\n    }\n\n    var seriesLabels = {\n      'yield':'Corn Yield',\n      'temperature':'Temperature',\n      'vegetation':'Vegetation'\n    };\n\n    // Add scale for x\n    var x_area = d3.scale.ordinal()\n      .rangeRoundBands([0, width_area], -1.1);\n\n    var x_ticks = d3.scale.ordinal()\n      .rangeRoundBands([0, width_area], -0.7);\n\n    // Add scale for y\n    var y_area = d3.scale.linear()\n      .rangeRound([height_area, 0]);\n\n    // Add x axis\n    var xAxis_area = d3.svg.axis()\n      .scale(x_area)\n      // .scale(x_ticks)\n      .orient(\"bottom\")\n      .tickPadding(12)\n      .tickSize(1)\n      .tickFormat(function (d) {\n        if(mobile_area){\n          if(d % 3 == 0) return d;\n        } else {\n          return d;\n        }\n\n      });\n\n    if(mobile_area){\n      xAxis_area.ticks(1000);\n    }\n\n    // Creating Y axis background lines\n    var yAxis_border = d3.svg.axis()\n      .scale(y_area)\n      .orient(\"left\")\n      .innerTickSize(-width_area)\n      .outerTickSize(0)\n      .tickPadding(10)\n      .ticks(5)\n      .tickFormat(function (d) {\n        return '';\n      });\n\n    // Create area border\n    var area_border = d3.svg.line()\n        .x(function(d, i) { return x_area(d.year); })\n        .y(function(d) { return y_area(d.value); });\n\n    // Add colors according to the design\n    var color_area = d3.scale.ordinal()\n      .range([\"#2D9280\", \"#5BABB1\",  \"#E5B156\"])\n      .domain([\"yield\", \"temperature\", \"vegetation\"]);\n\n    // Add SVG for the area chart to the relevant container (/views/pages/landing.js)\n    var svg_area = d3.select(area_ContainerID).append(\"svg\")\n        .attr(\"width\",  width_area + margin.left + margin.right)\n        .attr(\"height\", height_area + margin.top  + margin.bottom)\n      .append(\"g\")\n        .attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\");\n\n    /*\n    ** Output for 'd': {name: \"yield\", values: Array(..)}; {name: \"temperature\", values: Array(..)}; {name: \"vegetation\", values: Array(..)}\n    ** 'd.values': values:Array(..)\n    **               0:{name: \"yield\", year: 2000, value: 100, y0: 0, y: 100}\n    **               1:{name: \"yield\", year: 2001, value: 847, y0: 0, y: 847}..\n     */\n    var stack = d3.layout.stack()\n      .values(function (d) { return d.values; })\n      .x(function (d) { return x_area(d.year) + x_area.rangeBand() / 2; })\n      .y(function (d) { return d.value; });\n\n    // console.log(x_area.rangeBand([0, width_area]));\n\n    var area = d3.svg.area()\n      .x(function (d) { return x_area(d.year) + x_area.rangeBand() / 2; })\n      .y0(function (d) { return y_area(0); })\n      .y1(function (d) { return y_area(d.y); })\n\n    /* Reading data from the csv\n    ** Output for 'data':\n    **  [{…}, {…}, ..]:\n    **    0:{year: \"2000\", yield: \"100\", temperature: \"700\", vegetation: \"100\"}\n    **    1:{year: \"2001\", yield: \"847\", temperature: \"388\", vegetation: \"100\"} ..\n     */\n\n\n\n\n\n    margin = {top: 0, right: 0, bottom: 30, left: 0};\n\n    var labelVar = 'year';\n\n    var varNames = [\"yield\", \"temperature\", \"vegetation\"];\n\n    /*\n    ** Output for 'color_area.domain()': (3) [\"yield\", \"temperature\", \"vegetation\"]\n     */\n    color_area.domain(varNames);\n\n    /*\n    ** Output for 'seriesArr': (3) [{…}, {…}, {…}]\n    **                              0:{name: \"yield\", values: Array(..)}\n    **                              1:{name: \"temperature\", values: Array(..)}\n    **                              2:{name: \"vegetation\", values: Array(..)}\n     */\n    var seriesArr = [], series = {};\n    varNames.forEach(function (name) {\n      series[name] = {name: name, values:[]};\n      seriesArr.push(series[name]);\n    });\n\n\n    /*\n    ** Output for 'series': {{yield: {…}, temperature: {…}, vegetation: {…}}\n     */\n    data.forEach(function (d, i) {\n      d.years.forEach(function(year_itm) {\n        varNames.map(function (name) {\n          series[name].values.push({name: name, year: parseInt(year_itm[labelVar]), value: + year_itm[name]});\n        })\n      })\n    });\n\n\n    /*\n    ** Output for 'x_area.domain()': (..) [2000, 2001, 2002, 2003, ..]\n     */\n    data.forEach(function (d, i) {\n      x_area.domain(d.years.map(function (year_itm) {\n        return parseInt(year_itm[labelVar]);\n      }));\n    });\n\n\n    stack(seriesArr);\n\n    // Define max value in order to scale y axis\n    y_area.domain([0, d3.max(seriesArr, function (c) {\n      return d3.max(c.values, function (d) { return d.y + d.y * 0.1});\n    })]);\n\n    // Create g element for Y axis background lines\n    svg_area.append(\"g\")\n      .attr(\"class\", \"y axis\")\n      .call(yAxis_border)\n\n    // Create g element for X axis labels (in our case: 2000, 2001, 2002, ..)\n    svg_area.append(\"g\")\n      .attr(\"class\", \"x axis\")\n      .attr(\"transform\", \"translate(0,\" + height_area + \")\")\n      .call(xAxis_area)\n\n    //Add relevant classes to each series data\n    var selection = svg_area.selectAll(\".series\")\n      .data(seriesArr)\n      .enter().append(\"g\")\n      .attr(\"class\", function(d, i) { return \"series series-\" + i; })\n\n    /*\n    ** Fill each area with the relevant color\n     */\n\n    // 1. Create gradients\n    var gradient_svg = $(area_ContainerID).find('svg')[0];\n    createGradient(gradient_svg,'temperature-gradient-0',[ // Create gradient\n        { offset: '0%', 'stop-color': '#44A484 ', 'stop-opacity': '0.45' },\n        { offset: '75%', 'stop-color': '#44A484', 'stop-opacity': '0.05' }\n    ]);\n    createGradient(gradient_svg,'temperature-gradient-1',[ // Create gradient\n        { offset: '0%', 'stop-color': '#76C6CC','stop-opacity': '0.45' },\n        { offset: '75%', 'stop-color': '#76C6CC', 'stop-opacity': '0.05' }\n    ]);\n    createGradient(gradient_svg,'temperature-gradient-2',[ // Create gradient\n        { offset: '0%', 'stop-color': '#E8B251 ', 'stop-opacity': '0.45' },\n        { offset: '75%', 'stop-color': '#E8B251', 'stop-opacity': '0.05' }\n    ]);\n    // 2. Fill chart area\n    selection.append(\"path\")\n      .attr(\"d\", function (d) { return area(d.values); })\n      .attr(\"class\", \"streamPath\")\n      .style('fill', function(d, i) {\n        return 'url(#temperature-gradient-' + i + ')';\n      })\n\n\n    /*\n    ** Points for Tooltips\n    */\n\n\n    // Visible points\n    var points = svg_area.selectAll(\".seriesPoints\")\n      .data(seriesArr)\n      .enter().append(\"g\")\n        .attr(\"class\", \"seriesPoints\");\n\n    points.selectAll(\".point\")\n      .data(function (d) { return d.values; })\n      .enter().append(\"circle\")\n       .attr(\"class\", function (d, i) { return \"point point-itm-\"  + d.name + '-' + i; })\n       .attr(\"cx\", function (d) {\n          return x_area(d.year) + x_area.rangeBand() / 2;\n        })\n       .attr(\"cy\", function (d) { return y_area(d.y); })\n       .attr(\"r\", \"5px\")\n       .style(\"opacity\", 0)\n       .style(\"fill\",function (d) { return color_area(d.name); });\n\n\n\n    // Hidden points\n    var points_hover = svg_area.selectAll(\".seriesPointsHover\")\n      .data(seriesArr)\n      .enter().append(\"g\")\n        .attr(\"class\", function(d, i){ return \"seriesPointsHover seriesPointsHover-\"+i; });\n\n    if((data[0].years.length != 1) && (data[0].years[0].state != \"\")){\n      console.log(\"Temperature DATA\");\n      console.log(data);\n\n      points_hover.selectAll(\".point-hover\")\n        .data(function (d) { return d.values; })\n        .enter().append(\"circle\")\n         .attr(\"class\", \"point-hover\")\n         .attr(\"cx\", function (d) {\n            return x_area(d.year) + x_area.rangeBand() / 2;\n          })\n         .attr(\"cy\", function (d) { return y_area(d.y); })\n         .attr(\"r\", \"25px\")\n         .style(\"opacity\", 0)\n         .style(\"fill\",function (d) { return color_area(d.name); })\n         .on(\"mouseover\", function (d, i) { showPopover.call(this, d, i); })\n         .on(\"mouseout\",  function (d, i) { removePopovers.call(this, d, i); })\n    }\n\n\n\n    /*\n    ** Going through series array and adding top border line\n    ** Line styles are described in _section.scss:294-307\n     */\n    seriesArr.forEach(function(d, i) {\n      svg_area.select(\".series-\" + i)\n        .append(\"path\")\n        .data([seriesArr[i].values])\n        .attr(\"class\", \"border-line line\" + i)\n        .attr(\"d\", area_border)\n        .attr(\"transform\", \"translate(\" + x_area.rangeBand() / 2 + \", 0)\")\n    });\n\n    function removePopovers (d, i) {\n      $('.point-itm-' + d.name + '-' + i).css('opacity', 0);\n      $('#area-tooltip').remove();\n    }\n\n    function showPopover (d, i) {\n      var e = [];\n      e.clientX = d3.mouse(this)[0];\n      e.clientY = d3.mouse(this)[1];\n      var area_tooltip = '<div id=\"area-tooltip\" style=\"left: ' + (e.clientX + 25) + 'px; top: ' + (e.clientY - 50) + 'px;\">';\n          area_tooltip +=    '<span><strong>' + seriesLabels[d.name] + '</strong></br>' + d.value + '</span>';\n          area_tooltip +=    '<span><strong>Year</strong></br>' + d.year + '</span>';\n          area_tooltip += '</div>';\n\n      $('.point-itm-' + d.name + '-' + i).css('opacity', 1);\n\n      $('#chart-gradient').append(area_tooltip);\n    }\n}\n\nfunction createGradient(svg,id,stops) {\n  var svgNS = svg.namespaceURI;\n\n  var grad  = document.createElementNS(svgNS, 'linearGradient');\n  grad.setAttribute('id',id);\n\n  // Make gradient from top to bottom\n  grad.setAttribute('x2', '0%');\n  grad.setAttribute('y2', '100%');\n\n  for (var i = 0; i < stops.length; i++) {\n      var attrs = stops[i];\n      var stop = document.createElementNS(svgNS, 'stop');\n\n      for (var attr in attrs){\n          if (attrs.hasOwnProperty(attr)) stop.setAttribute(attr,attrs[attr]);\n      }\n      grad.appendChild(stop);\n  }\n\n  var defs = svg.querySelector('defs') || svg.insertBefore( document.createElementNS(svgNS,'defs'), svg.firstChild);\n  return defs.appendChild(grad);\n}\n\n$('.temp-veget-btn').on('click', function(){\n    var itm = $(this);\n    if(itm.hasClass('active')){\n      itm.removeClass('active');\n\n      if(itm.hasClass('btn-icon--corn')) {\n        d3.selectAll(\".series-0\").attr(\"visibility\", \"hidden\");\n        $(\".seriesPointsHover-0\").css(\"display\", \"none\");\n      }\n      if(itm.hasClass('btn-icon--temperature')) {\n        d3.selectAll(\".series-1\").attr(\"visibility\", \"hidden\");\n        $(\".seriesPointsHover-1\").css(\"display\", \"none\");\n      }\n      if(itm.hasClass('btn-icon--vegetation')) {\n        d3.selectAll(\".series-2\").attr(\"visibility\", \"hidden\");\n        $(\".seriesPointsHover-2\").css(\"display\", \"none\");\n      }\n    } else {\n      itm.addClass('active');\n      if(itm.hasClass('btn-icon--corn')) {\n        d3.selectAll(\".series-0\").attr(\"visibility\", \"visible\");\n        $(\".seriesPointsHover-0\").css(\"display\", \"initial\");\n      }\n      if(itm.hasClass('btn-icon--temperature')) {\n        d3.selectAll(\".series-1\").attr(\"visibility\", \"visible\");\n        $(\".seriesPointsHover-1\").css(\"display\", \"initial\");\n      }\n      if(itm.hasClass('btn-icon--vegetation')) {\n        d3.selectAll(\".series-2\").attr(\"visibility\", \"visible\");\n        $(\".seriesPointsHover-2\").css(\"display\", \"initial\");\n      }\n    }\n});\n","export function drawSoilChemistry(soil_chemistry_data) {\n  /*\n  ** Set up\n   */\n\n  $(\"#chart-circle\").html('');\n\n  var mobileScreen = document.getElementById(\"chart-circle-wrapper\").offsetWidth < 550 ? true : false;\n  var circle_chart_sp = $('#chart-circle-wrapper');\n\n  // Scatterplot\n  var margin = {left: 0, top: 20, right: 0, bottom: 30},\n    width_circle = circle_chart_sp.width() - margin.left - margin.right,\n    height = width_circle*2/3;\n\n  var svg_cicle = d3.select(\"#chart-circle\").append(\"svg\")\n    .attr(\"width\", (width_circle + margin.left + margin.right))\n    .attr(\"height\", (height + margin.top + margin.bottom));\n\n\n  var wrapper = svg_cicle.append(\"g\").attr(\"class\", \"chordWrapper\")\n    .attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\")\n\n  /*\n  ** Initialize Axes & Scales\n   */\n\n  var opacityCircles = 0.7,\n      maxDistanceFromPoint = 50;\n\n  var color_cicle = d3.scale.ordinal()\n    .range([\"#2e8bc2\", \"#209481\", \"#B6334F\"])\n    .domain([\"water\", \"carbon\", \"soil_quality\"]);\n\n\n  // Set the new x axis range\n  var xScale = d3.scale.log()\n    .range([0, width_circle])\n    .domain([\n      d3.min(soil_chemistry_data, function (d) { return d.yield * 0.9}),\n      d3.max(soil_chemistry_data, function (d) { return d.yield * 1.1})\n    ]);\n\n  // Set new x-axis\n  var xAxis = d3.svg.axis()\n    .orient(\"bottom\")\n    .ticks(2)\n    .tickFormat(function (d) {\n      return xScale.tickFormat((mobileScreen ? 4 : 8),function(d) {\n        var prefix = d3.formatPrefix(d);\n        return prefix.scale(d) + prefix.symbol;\n      })(d);\n    })\n    .scale(xScale);\n\n  // Append the x-axis\n  wrapper.append(\"g\")\n    .attr(\"class\", \"x axis\")\n    .attr(\"transform\", \"translate(\" + 0 + \",\" + height + \")\")\n    .call(xAxis);\n\n  // Set the new y axis range\n  var yScale = d3.scale.linear()\n    .range([height,0])\n    .domain([d3.min(soil_chemistry_data, function(d) { return d.value * 0.9; }), d3.max(soil_chemistry_data, function(d) { return d.value * 1.1; })])\n    .nice();\n\n\n  var yAxis = d3.svg.axis()\n    .orient(\"left\")\n    .ticks(6)  // Set rough # of ticks\n    .scale(yScale);\n\n  // Scale for the bubble size\n  var rScale = d3.scale.sqrt()\n    .range([mobileScreen ? 1 : 2, mobileScreen ? 10 : 16])\n    .domain(d3.extent(soil_chemistry_data, function(d) { return d.yield; }));\n\n  /*\n  ** Set-up voronoi\n   */\n\n  var voronoi = d3.geom.voronoi()\n    .x(function(d) { return xScale(d.yield); })\n    .y(function(d) { return yScale(d.value); })\n    .clipExtent([[0, 0], [width_circle, height]]);\n\n  var voronoiCells = voronoi(soil_chemistry_data);\n\n  /*\n  ** Circles to capture close mouse event\n   */\n\n  // Create wrapper for the voronoi clip paths\n  var clipWrapper = wrapper.append(\"defs\")\n    .attr(\"class\", \"clipWrapper\");\n\n  clipWrapper.selectAll(\".clip\")\n    .data(voronoiCells)\n    .enter().append(\"clipPath\")\n      .attr(\"class\", \"clip\")\n      .attr(\"id\", function(d) { if(d) return \"clip-\" + d.point.code; })\n      .append(\"path\")\n      .attr(\"class\", \"clip-path-circle\")\n      .attr(\"d\", function(d) { if(d) return \"M\" + d.join(\",\") + \"Z\"; });\n\n  // Initiate a group element for the circles\n  var circleClipGroup = wrapper.append(\"g\")\n    .attr(\"class\", \"circleClipWrapper\");\n\n  // Place the larger circles to eventually capture the mouse\n  var circlesOuter = circleClipGroup.selectAll(\".circle-wrapper\")\n    .data(soil_chemistry_data.sort(function(a,b) { return b.yield > a.yield; }))\n    .enter().append(\"circle\")\n    .attr(\"class\", function(d,i) { return \"circle-wrapper circle-type-\" + d.type + \" \" + d.code + \" \" + ((d.type != \"water\")?\"hidden\":\"\"); })\n    .attr(\"visibility\", function(d,i) {\n      if(d.type == 'water'){ return \"visible\"; } else { return \"hidden\" }\n    })\n    .attr(\"clip-path\", function(d) { return \"url(#clip-\" + d.code + \")\"; })\n      .style(\"clip-path\", function(d) { return \"url(#clip-\" + d.code + \")\"; })\n    .attr(\"cx\", function(d) {return xScale(d.yield);})\n    .attr(\"cy\", function(d) {return yScale(d.value);})\n    .attr(\"r\", maxDistanceFromPoint)\n    .on(\"mouseover\", showTooltip)\n    .on(\"mouseout\",  removeTooltip);\n\n  /*\n  ** Scatterplot Circles\n   */\n\n  // Initiate a group element for the circles\n  var circleGroup = wrapper.append(\"g\")\n    .attr(\"class\", \"circleWrapper\");\n\n  // Place the name circles\n  circleGroup.selectAll(\"countries\")\n    .data(soil_chemistry_data.sort(function(a,b) { return b.yield > a.yield; })) //Sort so the biggest circles are below\n    .enter().append(\"circle\")\n      .attr(\"class\", function(d,i) { return \"countries circle-type-\" + d.type + \" \" + d.code + \" \" + ((d.type != \"water\")?\"hidden\":\"\"); })\n      .attr(\"cx\", function(d) {return xScale(d.yield);})\n      .attr(\"cy\", function(d) {return yScale(d.value);})\n      .attr(\"r\", function(d) {return 5})\n      .style(\"pointer-events\", \"none\")\n      .style(\"opacity\", opacityCircles)\n      .style(\"fill\", function(d) { return color_cicle(d.type); });\n\n  var circleGroupShadow = wrapper.append(\"g\")\n    .attr(\"class\", \"circleWrapperShadow\");\n\n  // Place the name circles\n  circleGroupShadow.selectAll(\"countries\")\n    .data(soil_chemistry_data.sort(function(a,b) { return b.yield > a.yield; })) // Sort so the biggest circles are below\n    .enter().append(\"circle\")\n      .attr(\"class\", function(d,i) { return \"countries-shadow circle-type-\" + d.type + \" \" + d.code + \" \" + ((d.type != \"water\")?\"hidden\":\"\"); })\n      .attr(\"cx\", function(d) {return xScale(d.yield);})\n      .attr(\"cy\", function(d) {return yScale(d.value);})\n      .attr(\"r\", function(d) {return 20})\n      .style(\"pointer-events\", \"none\")\n      .style(\"opacity\", 0)\n      .style(\"fill\", function(d) { return color_cicle(d.type); });\n\n\n  /*\n  ** Hover functions of the circles\n   */\n\n  // Hide the tooltip when the mouse moves away\n  function removeTooltip (d, i) {\n\n    $('#circle-tooltip').remove();\n\n    // Save the chosen circle (so not the voronoi)\n    var element = d3.selectAll(\"#chart-circle .countries.\"+d.code);\n\n    // Fade out the bubble again\n    element.style(\"opacity\", opacityCircles);\n    element.style(\"fill\", function(d) { return color_cicle(d.type); });\n\n    var elementShadow = d3.selectAll(\"#chart-circle .countries-shadow.\"+d.code);\n    elementShadow.style(\"opacity\", 0);\n  }\n\n  // Show the tooltip on the hovered over slice\n  function showTooltip (d, i) {\n\n    var e = [];\n    e.clientX = d3.mouse(this)[0];\n    e.clientY = d3.mouse(this)[1];\n\n    var cicle_tooltip = '<div id=\"circle-tooltip\" style=\"left: ' + (e.clientX + 50) + 'px; top: ' + (e.clientY - 20) + 'px;\">';\n    cicle_tooltip +=    '<span class=\"soil-chemistry-county\"><strong>County</strong></br>' + d.county + '</span>';\n\n    switch(d.type) {\n        case 'water':\n            cicle_tooltip +=  '<span class=\"soil-chemistry-water\"><strong>Accessible Water</strong></br>' + Number.parseFloat(d.value).toFixed(1) + 'mm</span>';\n            break;\n        case 'carbon':\n            cicle_tooltip +=  '<span class=\"soil-chemistry-carbon\"\"><strong>Carbon</strong></br>' + Number.parseFloat(d.value).toFixed(1) + '</span>';\n            break;\n        case 'soil_quality':\n            cicle_tooltip +=  '<span class=\"soil-chemistry-soil\"><strong>Soil</strong></br>' + Number.parseFloat(d.value).toFixed(1) + '</span>';\n            break;\n        default:\n    }\n    cicle_tooltip +=  '<span class=\"soil-chemistry-yield\"><strong>Corn Yield</strong></br>' + Number.parseFloat(d.yield).toFixed(1) + '</span>';\n    cicle_tooltip += '</div>';\n\n    $('#chart-circle-wrapper').append(cicle_tooltip);\n\n    var element = d3.selectAll(\"#chart-circle .countries.\"+d.code);\n      element.style(\"fill\", function(d) { return color_cicle(d.type); });\n      element.style(\"opacity\", 1);\n\n    var elementShadow = d3.selectAll(\"#chart-circle .countries-shadow.\"+d.code);\n      elementShadow.style(\"fill\", function(d) { return color_cicle(d.type); });\n      elementShadow.style(\"opacity\", .3);\n\n\n  } // function showTooltip\n\n} // function drawFinalScatterplot\n\n//drawFinalScatterplot();\n\n$('.soil-chemistry-btn').on('click', function(){\n  var itm = $(this);\n  $('.soil-chemistry-btn').each(function(){\n    $(this).removeClass('active');\n  });\n  itm.addClass('active');\n\n  $(\".circleClipWrapper circle.circle-wrapper\").addClass(\"hidden\");\n  $(\".circleWrapper circle.countries\").addClass(\"hidden\");\n  $(\".circleWrapperShadow circle.countries-shadow\").addClass(\"hidden\");\n\n  $(\".circleClipWrapper circle.circle-wrapper.circle-type-\"+ itm.attr('data-type')).removeClass(\"hidden\");\n  $(\".circleWrapper circle.countries.circle-type-\"+ itm.attr('data-type')).removeClass(\"hidden\");\n  $(\".circleWrapperShadow circle.countries-shadow.circle-type-\"+ itm.attr('data-type')).removeClass(\"hidden\");\n});\n","export function drawCurveLine(dataset_curve) {\n\n  $(\"#curve-line\").html('');\n  \n  var curve_sp = $('#curve-line-sp');\n\n  var margin = {top: 20, right: 15, bottom: 30, left: 15},\n      width = curve_sp.width() - margin.left - margin.right,\n      height = curve_sp.height() - margin.top - margin.bottom;\n  \n \n    var xScale_curve = d3.scale.linear()\n        .domain([\n          d3.min(dataset_curve, function(d){ return d.year; }), \n          d3.max(dataset_curve, function(d){ return d.year; })\n        ])\n        .range([0, width]);\n\n    var yScale_curve = d3.scale.linear()\n        .domain([0, d3.max(dataset_curve, function(d){ return d.yield * 1.1; })])\n        .range([height, 0]);\n\n    var xAxis_curve = d3.svg.axis()\n        .scale(xScale_curve)\n        .orient(\"bottom\")\n        .innerTickSize(-height)\n        .outerTickSize(0)\n        .ticks(5)\n        .tickPadding(10)\n        .tickFormat(function(d) { \n          return d;\n        });\n\n    var yAxis_curve = d3.svg.axis()\n        .scale(yScale_curve)\n        .orient(\"left\")\n        .innerTickSize(-width)\n        .outerTickSize(100)\n        .tickPadding(10)\n        .ticks(5)\n        .tickFormat(function (d) {\n          return d;\n        })\n        .tickFormat(function(d) { \n          return '';\n        });\n\n    var line_curve = d3.svg.line()\n        .x(function(d) { return xScale_curve(d.year); })\n        .y(function(d) { return yScale_curve(d.yield); })\n        .interpolate(\"bundle\");\n\n    var svg_curve = d3.select(\"#curve-line\").append(\"svg\")\n        .attr(\"width\", width + margin.left + margin.right)\n        .attr(\"height\", height + margin.top + margin.bottom)\n      .append(\"g\")\n        .attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\");\n\n      svg_curve.append(\"g\")\n          .attr(\"class\", \"x axis\")\n          .attr(\"transform\", \"translate(0,\" + height + \")\")\n          .call(xAxis_curve)\n\n      svg_curve.append(\"g\")\n          .attr(\"class\", \"y axis\")\n          .call(yAxis_curve)\n\n\n      svg_curve.append(\"path\")\n          .data([dataset_curve])\n          .attr(\"class\", \"line\")\n          .attr(\"d\", line_curve);\n\n}\n","require(\"./autocomplete.js\");\r\nrequire(\"./map-counties.js\");\r\nrequire(\"./bar-zoom-set.js\");\r\n\r\nrequire(\"./soil-chemistry.js\");\r\nrequire(\"./temperature-vegetation.js\");\r\nrequire(\"./curve-line.js\");\r\n\r\n\r\nrequire(\"./script.js\");\r\n","// Extend Select2: Added placeholder to Select2 input\n\n(function($) {\n    var Defaults = $.fn.select2.amd.require('select2/defaults');\n    $.extend(Defaults.defaults, {\n        searchInputPlaceholder: ''\n    });\n    var SearchDropdown = $.fn.select2.amd.require('select2/dropdown/search');\n    var _renderSearchDropdown = SearchDropdown.prototype.render;\n    SearchDropdown.prototype.render = function(decorated) {\n        // invoke parent method\n        var $rendered = _renderSearchDropdown.apply(this, Array.prototype.slice.apply(arguments));\n        this.$search.attr('placeholder', this.options.get('searchInputPlaceholder'));\n        return $rendered;\n    };\n})(window.jQuery);\n\nd3.json(\"/js/us-data-show.json\", function(error, data) {\n\n  //Autofill function\n  const county_state = [];\n\n  const countiesObj = data.county;\n  const stateObj = data.state;\n  \n  // console.log(data.county);\n\n  const countyKeys = Object.keys(countiesObj)\n\n  const countyNames = countyKeys.forEach((key) => {\n    const stringKey = key.toString();\n    let sliceValue = 0;\n\n    if (key < 10000) {\n      sliceValue = 1\n    } else {\n      sliceValue = 2\n    }\n\n    var stateID = stringKey.slice(0, sliceValue);\n    if(stateObj[stateID]){\n\n        var stateName = stateObj[stateID].name.toUpperCase().replace(' ', '_');\n        const dataObj = {\n          name: countiesObj[`${key}`].name,\n          state: stateID,\n          stateName: stateName,\n          originalKey: key,\n          countyID: (countiesObj[`${key}`].countyID)?countiesObj[`${key}`].countyID:0,\n        }\n        county_state.push(dataObj);\n    }\n\n  });\n\n  var searchCounty = $(\"#searchCounty\");\n  var searchOptions = [];\n  for (let i = 0; i < county_state.length; i++) {\n      searchOptions.push({\n        // id: county_state[i].state + '-' + county_state[i].originalKey,\n        id: county_state[i].originalKey + '-' + county_state[i].countyID + '-' + county_state[i].stateName,\n        text: county_state[i].name,\n        originalKey: county_state[i].originalKey,\n      });\n  }\n\n  // console.log(searchOptions);\n\n  searchCounty.select2({\n    placeholder: \"Search for a county…\",\n    searchInputPlaceholder: 'Search for a county…',\n    width: '100%',\n    data: searchOptions,\n  });\n})\n","import { drawBarZoomMap } from './bar-zoom-set';\nimport { drawTemperatureVegetation } from './temperature-vegetation';\nimport { drawSoilChemistry } from './soil-chemistry';\nimport { drawCurveLine } from './curve-line';\n\n(function() {\n\n  var tooltip = d3.select(\".tooltip\"),\n      tooltipState = tooltip.select(\"#tooltip-state\");\n  var tooltipOffset = [0][0];\n  var loading;\n  var legendIcon;\n  var labels = {};\n  let svg_map;\n  // Elements\n  var map_counties_sp = $('.map-counties-sp');\n  var width_map = map_counties_sp.width();\n  var height_map = width_map*0.6;\n  var mapMargin = {top: 10, right: 10, bottom: 10, left: 10}\n\n  var svg, counties, states, highlight, projection, path;\n  var miniSVG, timeseries, slider, knob, x, y, xAxis, yAxis, brush, line;\n\n  var radius = d3.scale.sqrt()\n    .range([2, 40]);\n\n  var color_map = d3.scale.threshold().range([\n      \"#FBF0DE\", \"#F7E2BC\", \"#F2CC89\", \"#E9BF77\", \"#DBAB58\",\n      \"#A5E7D1\", \"#8EDAC1\", \"#64C2A2\", \"#3FA885\", \"#20906A\"\n      ]);\n    // .range([\"#20906A\", \"#FBF0DE\", \"#F7E2BC\", \"#F2CC89\", \"#E9BF77\", \"#DBAB58\", \"#A5E7D1\", \"#8EDAC1\", \"#64C2A2\", \"#3FA885\"]);\n\n  var thousandComma = d3.format('0,000');\n  var threePrecision = d3.format('3g');\n  var oneDecimal = d3.format('.1f');\n\n  // State variables\n  var isMapReady = false; // Don't bind any data unless the map data is loaded.\n  var isDataReady = false;\n\n  var uiState = {\n    year: undefined,\n    zoom: d3.select(null),\n    mode: \"NATIONAL\",\n    state: undefined,\n    county: undefined,\n  };\n\n  var summary;\n\n  function initUI() {\n    labels.number = d3.select(\"#label-number\"); // to remove\n    labels.unit = d3.select(\"#label-unit\"); // to remove\n    labels.region = d3.select(\"#label-region\");\n    labels.year = d3.select(\"#label-year\");\n\n    loading = d3.select(\".loading\");\n  }\n\n  function initMap() {\n\n    var vizDiv = d3.select(\".map-counties-sp\")[0][0];\n\n    tooltipOffset = [vizDiv.offsetLeft, vizDiv.offsetTop];\n\n    var width_map_ = width_map - mapMargin.left - mapMargin.right,\n        height_map_ = height_map - mapMargin.top - mapMargin.bottom;\n\n    // add svg to our template; specify general map parameters\n    var mapDiv = d3.select(\"#map-counties\");\n    svg_map = mapDiv.append(\"svg\")\n      .attr(\"class\", \"map-background\")\n      .attr(\"width\", width_map)\n      .attr(\"height\", height_map)\n      .on(\"click\", resetZoom)\n        .append(\"g\")\n      .attr(\"transform\", \"translate(\" + mapMargin.left + \",\" + mapMargin.top + \")\");\n\n    // add class for each county\n    counties = svg_map.append(\"g\")\n      .attr(\"class\", \"counties\");\n\n    // add class for each state\n    states = svg_map.append(\"g\")\n      .attr(\"class\", \"states\");\n\n    // add state contour\n    highlight = svg_map.append(\"g\")\n      .attr(\"class\", \"highlight\");\n\n    projection = d3.geo.albersUsa()\n      .scale(width_map)\n      .translate([width_map_ / 2, height_map_ / 2]);\n\n    path = d3.geo.path()\n      .projection(projection);\n\n    // use json data\n    d3.json(\"/js/us.json\", function(error, us) {\n      if (error) throw error;\n\n      // console.log(topojson.feature(us, us.objects.counties).features);\n\n      counties.selectAll(\".county\")\n        .data(topojson.feature(us, us.objects.counties).features)\n        .enter()\n          .append(\"path\")\n        .attr(\"class\", \"county\")\n        .attr(\"data-county-id\", function(d) {\n          return d.id;\n        })\n        .attr(\"d\", path)\n        .on(\"mouseout\", function() {\n          highlight.selectAll('*').remove();\n          if (uiState.mode === 'STATE') {\n            changeCounty(undefined);\n          }\n        })\n        .on(\"mouseover\", function(d) {\n          if (!summary.county.hasOwnProperty(d.id)) {\n            d3.select(this).style(\"cursor\", \"not-allowed\");\n            return;\n          }\n\n          d3.select(this).style(\"cursor\", \"pointer\");\n\n          highlight.append(\"path\")\n            .datum(d)\n            .attr(\"class\", \"highlight-outer\")\n            .attr(\"d\", path)\n            .style(\"stroke-width\", 4.5 / uiState.zoomScale + \"px\");\n          highlight.append(\"path\")\n            .datum(d)\n            .attr(\"class\", \"highlight-inner\")\n            .attr(\"d\", path)\n            .style(\"stroke-width\", 1 / uiState.zoomScale + \"px\");\n\n          changeCounty(d.id);\n          \n          // if ((summary) && (summary.length > 0) && (summary.state.length > 0) && !summary.state.hasOwnProperty(d.id)) {\n          //   d3.select(this).style(\"cursor\", \"not-allowed\");\n          //   return;\n          // }\n\n          showTooltip(d.id);\n\n        });\n\n      states.selectAll(\".state\")\n        .data(topojson.feature(us, us.objects.states).features)\n        .enter()\n          .append(\"path\")\n        .attr(\"class\", function(d) { return \"state state-id-\" + d.id; })\n        .attr(\"d\", path)\n        .on(\"mouseout\", function() {\n          highlight.selectAll('*').remove();\n          if (uiState.mode === 'NATIONAL') {\n            changeState(undefined);\n          }\n\n          destroyTooltip();\n        })\n        .on(\"mouseover\", function(d) {\n\n          // show appropriate tooltip on state hover\n          showTooltip(d.id);\n\n          if ((summary) && (summary.length > 0) && (summary.state.length > 0) && !summary.state.hasOwnProperty(d.id)) {\n            d3.select(this).style(\"cursor\", \"not-allowed\");\n            return;\n          }\n\n          d3.select(this).style(\"cursor\", \"pointer\");\n\n          highlight.append(\"path\")\n            .datum(d)\n            .attr(\"class\", \"highlight-outer\")\n            .attr(\"d\", path);\n          highlight.append(\"path\")\n            .datum(d)\n            .attr(\"class\", \"highlight-inner\")\n            .attr(\"d\", path);\n          changeState(d.id);\n        })\n        .on(\"click\", function(d) {\n          d3.event.stopPropagation();\n          if (!summary.state.hasOwnProperty(d.id)) {\n            return;\n          }\n          zoomed(d);\n        });\n\n      isMapReady = true;\n    });\n  }\n\n  // function initTimeseries() {\n    var timeseriesDiv = d3.select(\".timeseries\");\n    var margin = {top: 10, right: 20, left: 50},\n      width_map_ = width_map - margin.left - margin.right;\n\n    var lineChartHeight = 64;\n\n    x = d3.scale.linear()\n      .range([5, width_map_ - 5])\n      .clamp(true);\n\n    y = d3.scale.linear()\n      .domain([0, 100])\n      .range([lineChartHeight-5, 5]);\n\n\n    miniSVG = timeseriesDiv.append(\"svg\")\n      .attr(\"width\", width_map)\n      .attr(\"height\", 140)\n        .append(\"g\")\n      .attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\");\n\n    timeseries = miniSVG.append(\"g\")\n    timeseries.append(\"rect\")\n      .attr(\"class\", \"background\")\n      .attr(\"width\", width_map_)\n      .attr(\"height\", lineChartHeight);\n\n    yAxis = d3.svg.axis()\n      .scale(y)\n      .orient(\"left\")\n      .ticks(4)\n      .tickSize(-width_map_)\n      .tickPadding(12)\n      .tickFormat(d3.format(\"s\"));\n\n    timeseries.append(\"g\")\n      .attr(\"class\", \"y axis\")\n      .call(yAxis);\n\n    xAxis = d3.svg.axis()\n      .scale(x)\n      .orient(\"bottom\")\n      .tickFormat(function(d) { return d; })\n      .tickSize(-lineChartHeight)\n      .ticks(12)\n      .tickPadding(12);\n\n    timeseries.append(\"g\")\n      .attr(\"class\", \"x axis\")\n      .attr(\"transform\", \"translate(0,\" + lineChartHeight + \")\")\n      .call(xAxis);\n\n    line = d3.svg.line()\n      .x(function(d) { return x(d.x); })\n      .y(function(d) { return y(d.y); });\n\n\n  function resetZoom() {\n    uiState.zoom = d3.select(null);\n    highlight.selectAll('*').remove();\n\n    svg_map.transition()\n      .duration(500)\n      .ease(\"exp-out\")\n      .attr('data-zoom', false)\n      .attr(\"transform\", \"translate(\" + mapMargin.left + \",\" + mapMargin.top + \")\");\n\n    setTimeout(function() {\n      states.selectAll(\"*\")\n        .style(\"visibility\", \"visible\");\n      counties.selectAll(\".county\")\n        .style(\"visibility\", \"visible\")\n        .style(\"stroke-width\", \"0.5px\");\n    }, 500);\n\n    uiState.mode = 'NATIONAL';\n    changeState(undefined);\n  }\n\n  function zoomed(state, type) {\n    if(type != 'select'){\n      d3.event.stopPropagation()\n    }\n\n\n    // TO-DO: If no data, return.\n\n    if (uiState.zoom.node() === this) {\n      resetZoom();\n      return;\n    }\n\n    var width_map_ = width_map - mapMargin.left - mapMargin.right,\n        height_map_ = height_map - mapMargin.top - mapMargin.bottom;\n\n    uiState.zoom = d3.select(this);\n\n    var bounds = path.bounds(state),\n      dx = bounds[1][0] - bounds[0][0],\n      dy = bounds[1][1] - bounds[0][1],\n      x = (bounds[0][0] + bounds[1][0]) / 2,\n      y = (bounds[0][1] + bounds[1][1]) / 2,\n      scale = .8 / Math.max(dx / width_map_, dy / height_map_),\n      translate = [width_map_ / 2 - scale * x, height_map_ / 2 - scale * y];\n\n    uiState.zoomScale = scale;\n\n    svg_map.transition()\n      .duration(500)\n      .attr('data-zoom', true)\n      .attr(\"transform\", \"translate(\" + translate + \")scale(\" + scale + \")\");\n\n\n    highlight.selectAll('*').remove();\n\n    states.selectAll(\"*\")\n      .style(\"visibility\", \"hidden\");\n\n    counties.selectAll(\".county\")\n      .style(\"visibility\", function(d) {\n        if (Math.floor(d.id / 1000) === state.id) {\n          return \"visible\";\n        }\n        return \"hidden\";\n      })\n      .style(\"stroke-width\", 1.0 / scale + \"px\");\n\n    uiState.mode = 'STATE';\n  }\n\n  function slided() {\n    var value = Math.round(brush.extent()[0]);\n\n    if (d3.event.sourceEvent) {\n      value = Math.round(x.invert(d3.mouse(this)[0]));\n      brush.extent([value, value]);\n    }\n\n    handle.selectAll(\"circle\")\n      .transition()\n      .duration(25)\n      .attr(\"cx\", x(value));\n\n    changeYear(value);\n  }\n\n  function changeState(stateID) {\n    uiState.state = stateID;\n    updateTimeseries();\n    if (uiState.state === undefined) {\n      labels.region.html('United States');\n    } else if (summary) {\n      labels.region.html(summary.state[stateID].name);\n    }\n    updateStateLabel(stateID);\n  }\n\n  function changeYear(year) {\n    uiState.year = year;\n\n    updateMap();\n    updateTimeseries(); // TO-DO: Consider removing this.\n\n    labels.year.html(year);\n    updateStateLabel();\n  }\n\n  function changeCounty(countyID) {\n    uiState.county = countyID;\n    updateTimeseries();\n    // console.log(summary.state[uiState.state].name);\n    // console.log(summary.county[countyID].name);\n    if (uiState.county === undefined) {\n      // labels.region.html(summary.state[uiState.state].name);\n    } else {\n      // labels.region.html(summary.county[countyID].name);\n    }\n    updateCountyLabel(countyID)\n  }\n\n  function updateStateLabel(stateID) {\n    // console.log(summary);\n    if(stateID && summary) {\n      $('#tooltip-state').html(summary.state[stateID].name);\n    }\n  }\n\n  function updateCountyLabel(countyID) {\n    if(countyID && summary) {\n      var countyName = (summary.county[countyID].name) ? summary.county[countyID].name : countyID;\n      $('#tooltip-state').html(countyName);\n    }\n  }\n\n  function updateData() {\n    isDataReady = false;\n\n\n    loading.select(\".spinner\").classed(\"hidden_elem\", false);\n    loading.select(\".error\").classed(\"hidden_elem\", true);\n    loading.classed(\"hidden_elem\", false);\n\n    d3.json('/js/us-data-show.json', function(err, json) {\n      if (err) throw err;\n\n      summary = json;\n\n      // console.log(summary.county.)\n\n      color_map.range(summary.metadata.colorRange); // From file us-data-show.js\n      color_map.domain(summary.metadata.colorQuantiles); // From file us-data-show.js\n\n      x.domain(summary.metadata.yearRange);\n      timeseries.select(\"g.x.axis\")\n        .call(xAxis);\n\n      labels.unit.html(summary.metadata.unit.toLowerCase());\n\n      if (uiState.mode === 'STATE' &&\n        !summary.state.hasOwnProperty(uiState.state)) {\n        resetZoom();\n      } else {\n        changeState(uiState.state);\n      }\n\n      if (uiState.year &&\n          uiState.year <= summary.metadata.yearRange[1] &&\n          uiState.year >= summary.metadata.yearRange[0]) {\n        changeYear(uiState.year);\n      } else {\n        changeYear(summary.metadata.yearRange[1]);\n      }\n\n      isDataReady = true;\n\n      updateMap();\n      updateTimeseries();\n      updateStateLabel();\n\n      loading.classed(\"hidden_elem\", true);\n    });\n  }\n\n  function updateMap() {\n    if (!isMapReady || !isDataReady) return;\n\n    counties.selectAll(\".county\")\n      .style(\"fill\", function(d) {\n        if (summary.county.hasOwnProperty(d.id) &&\n          summary.county[d.id].data.hasOwnProperty(uiState.year)) {\n          return color_map(summary.county[d.id].data[uiState.year]);\n        }\n        return \"#fff\";\n      })\n  }\n\n  function updateTimeseries() {\n    if (!isMapReady || !isDataReady) return;\n\n    var dat, extent;\n    if (uiState.mode === \"NATIONAL\") {\n      if (uiState.state) {\n        dat = summary.state[uiState.state];\n      } else {\n        dat = summary.national;\n      }\n    } else if (uiState.mode === \"STATE\") {\n      if (uiState.county) {\n        dat = summary.county[uiState.county];\n      } else {\n        dat = summary.state[uiState.state];\n      }\n    }\n\n    if (dat === undefined) return;\n\n    var lineData = Object.keys(dat.data)\n      .map(function(d) {\n        return {x: +d, y: dat.data[d]};\n      });\n\n    y.domain(dat.yRange);\n    timeseries.select(\"g.y.axis\")\n      .call(yAxis);\n\n    timeseries.selectAll(\".line\").remove();\n    timeseries.append(\"path\")\n      .attr(\"class\", \"line\")\n      .attr(\"d\", line(lineData));\n\n    timeseries.selectAll(\".point\").remove()\n    if (dat.data.hasOwnProperty(uiState.year)) {\n      timeseries.append(\"circle\")\n        .attr(\"class\", \"point selected\")\n        .attr(\"r\", 4)\n        .attr(\"cx\", x(uiState.year))\n        .attr(\"cy\", y(dat.data[uiState.year]));\n    }\n  }\n\n  function destroyTooltip() {\n    tooltip.style(\"opacity\", 0);\n  }\n  \n  function showTooltip(d) {\n    if (!isDataReady) return;\n\n    var coordinates = [0, 0];\n    coordinates = d3.mouse(d3.event.currentTarget);\n    var x_mouse = coordinates[0];\n    var y_mouse = coordinates[1];\n\n    tooltip.style(\"visibility\", \"visible\")\n      .style(\"opacity\", 1)\n      .style(\"margin-top\", \"-50px\")\n      .style(\"left\", x_mouse - tooltipOffset[0] + \"px\")\n      .style(\"top\", y_mouse + \"px\")\n\n  }\n\n  $(\"#searchCounty\").on(\"select2:select change.select2\", function(e) {\n    \n    var originalKey_str = $(this).val();\n    \n    $('.loading_sp').each(function(){\n      $(this).css('display','block');\n    });\n\n    \n    var originalKey = originalKey_str.split(\"-\");\n\n    var state_id = Math.floor(originalKey[0]/1000);\n    var countyID = originalKey[1];\n    var stateName = originalKey[2].replace('_', ' ');\n\n    var selectedCounty = $(this).find('option[value=\"' + originalKey_str + '\"]').html();\n    $(\".selectedCountyName\").each(function(){\n      $(this).text(selectedCounty);\n    });\n\n    $.ajax({\n      type: 'GET',\n      data: { \n        id: countyID,\n        state: stateName\n      },\n      dataType: \"json\",\n      contentType: \"application/json; charset=utf-8\",\n      url: '/api/data/',\n      success: function(data) {\n        console.log(data);\n        console.log('data updated');\n        \n        if(data.length == 0){\n          data.push({\n            area_symbol: countyID,\n            years: [],\n            soil_chemistry: [],\n            bar_map: []\n          })\n        }\n\n        if(data[0].years.length == 0){\n          data[0].years = [\n              {\n                carbon:0,\n                cropquality:0,\n                latitude:0,\n                longitude:0,\n                soil_quality:0,\n                state:'',\n                temperature:0,\n                vegetation:0,\n                water:0,\n                year: \"2017\",\n                yield:0\n              }\n          ]\n        }\n\n        if(data[0].bar_map.length == 0){\n          data[0].bar_map = [\n              {\n                year:\"2001\",\n                values: [\n                  {\n                    rate:\"Yield\",\n                    value: 0\n                  },\n                  {\n                    rate:\"Acres\",\n                    value: 0\n                  },\n                  {\n                    rate:\"Production\",\n                    value: 0\n                  }\n                ]\n              }\n          ]\n        }\n        \n\n        $('.loading_sp').each(function(){\n          $(this).css('display','none');\n        });\n\n\n        drawBarZoomMap(data[0].bar_map);\n        drawSoilChemistry(data[0].soil_chemistry);\n        drawTemperatureVegetation(data);\n        drawCurveLine(data[0].years);\n\n        var predictedData = JSON.parse($(\"#predicted-data\").val());\n\n        predictedData.date = 2018;\n        predictedData.longitude = data[0].years[0].longitude;\n        predictedData.latitude = data[0].years[0].latitude;\n        predictedData.cropquality = data[0].years[0].cropquality;\n        predictedData.wateravailability = $(\"#slider-water\").val();\n        predictedData.temperature = $(\"#round-temperature\").find('input').val();\n        predictedData.vegetation = $(\"#round-vegetation\").find('input').val() / 100;\n        predictedData.soilcarbon = $(\"#slider-carbon\").val();\n        predictedData.soilquality = $(\"#slider-soil\").val();\n\n        var textObject = JSON.stringify(predictedData);\n        $(\"#predicted-data\").text(textObject);\n      }\n    });\n\n    resetZoom();\n\n    var first_g = $('[data-zoom=\"true\"]');\n    var zoom_delay = 600;\n    if(first_g.length > 0){\n      zoom_delay = 1000;\n    }\n\n    setTimeout(function () {\n      var itm_county = svg_map.selectAll(\".state-id-\"+state_id)\n        .attr(\"data-id\", function(d){\n          zoomed(d, 'select');\n          return d.id;\n        });\n    }, zoom_delay);\n\n  });\n\n\n  initUI();\n  initMap();\n  window.setTimeout(updateData, 1500);\n\n})();\n","$(document).ready(function() {\n\n  /*\n   ** Range slider (last section)\n   */\n\n  // Accessible Water\n  var slider_water = document.getElementById(\"slider-water\");\n  var rangeMaxVal_water = $(slider_water).prop('max');\n\n\n\n  // Default value\n  $(slider_water).siblings('.count').text($(slider_water).val() + ' mm').css({\n    'left': $(slider_water).val() * (100 / rangeMaxVal_water) + '%',\n    'transform': 'translateX(-' + $(slider_water).val() * (100 / rangeMaxVal_water) + '%)'\n  });\n  $(slider_water).siblings('.fill').css('width', $(slider_water).val() * (100 / rangeMaxVal_water) + '%');\n\n  slider_water.oninput = function() {\n\n    var predictedData = JSON.parse($(\"#predicted-data\").val());\n    predictedData.wateravailability = this.value;\n    var textObject = JSON.stringify(predictedData);\n    $(\"#predicted-data\").text(textObject);\n\n    $(this).siblings('.count').text(this.value + ' mm').css({\n      'left': this.value * (100 / rangeMaxVal_water) + '%',\n      'transform': 'translateX(-' + this.value * (100 / rangeMaxVal_water) + '%)'\n    });\n    $(this).siblings('.fill').css('width', this.value * (100 / rangeMaxVal_water) + '%');\n  }\n\n  // Carbon Level\n  var slider_carbon = document.getElementById(\"slider-carbon\");\n  var rangeMaxVal_carbon = $(slider_carbon).prop('max');\n\n  // Default value\n  $(slider_carbon).siblings('.count').text($(slider_carbon).val() + ' g').css({\n    'left': $(slider_carbon).val() * (100 / rangeMaxVal_carbon) + '%',\n    'transform': 'translateX(-' + $(slider_carbon).val() * (100 / rangeMaxVal_carbon) + '%)'\n  });\n  $(slider_carbon).siblings('.fill').css('width', $(slider_carbon).val() * (100 / rangeMaxVal_carbon) + '%');\n\n  slider_carbon.oninput = function() {\n    var predictedData = JSON.parse($(\"#predicted-data\").val());\n    predictedData.soilcarbon = this.value;\n    var textObject = JSON.stringify(predictedData);\n    $(\"#predicted-data\").text(textObject);\n\n    $(this).siblings('.count').text(this.value + ' g').css({\n      'left': this.value * (100 / rangeMaxVal_carbon) + '%',\n      'transform': 'translateX(-' + this.value * (100 / rangeMaxVal_carbon) + '%)'\n    });\n    $(this).siblings('.fill').css('width', this.value * (100 / rangeMaxVal_carbon) + '%');\n  }\n\n  // Quality of Soil\n  var slider_soil = document.getElementById(\"slider-soil\");\n  var soilValues = {\n    \"1\": \"Poor\",\n    \"2\": \"Average\",\n    \"3\": \"Good\",\n    \"4\": \"Great\",\n  };\n  var rangeMaxVal_soil = $(slider_soil).prop('max');\n\n  // Default value\n  $(slider_soil).siblings('.count').text(soilValues[$(slider_soil).val()]).css({\n    'left': $(slider_soil).val() * (100 / rangeMaxVal_soil) + '%',\n    'transform': 'translateX(-' + $(slider_soil).val() * (100 / rangeMaxVal_soil) + '%)'\n  });\n  $(slider_soil).siblings('.fill').css('width', $(slider_soil).val() * (100 / rangeMaxVal_soil) + '%');\n\n  slider_soil.oninput = function() {\n    var predictedData = JSON.parse($(\"#predicted-data\").val());\n    predictedData.soilquality = this.value;\n    var textObject = JSON.stringify(predictedData);\n    $(\"#predicted-data\").text(textObject);\n\n    $(this).siblings('.count').text(soilValues[this.value]).css({\n      'left': this.value * (100 / rangeMaxVal_soil) + '%',\n      'transform': 'translateX(-' + this.value * (100 / rangeMaxVal_soil) + '%)'\n    });\n    $(this).siblings('.fill').css('width', this.value * (100 / rangeMaxVal_soil) + '%');\n  }\n\n\n  /*\n   ** Round slider\n   */\n  $(\"#round-temperature\").roundSlider({\n    radius: 150,\n    width: 40,\n    circleShape: \"half-top\",\n    sliderType: \"min-range\",\n    value: 50,\n    min: 0,\n    max: 100,\n    editableTooltip: false,\n    tooltipFormat: temperatureTooltip\n  });\n  $(\"#round-vegetation\").roundSlider({\n    radius: 150,\n    width: 40,\n    circleShape: \"half-top\",\n    sliderType: \"min-range\",\n    value: 0,\n    min: -100,\n    max: 100,\n    editableTooltip: false,\n    tooltipFormat: vegetationTooltip,\n  });\n\n  $(\"#round-temperature\").on('change', function() {\n    var predictedData = JSON.parse($(\"#predicted-data\").val());\n    predictedData.temperature = $(this).find('input').val();\n    var textObject = JSON.stringify(predictedData);\n    $(\"#predicted-data\").text(textObject);\n  });\n   $(\"#round-vegetation\").on('change', function() {\n    var predictedData = JSON.parse($(\"#predicted-data\").val());\n    predictedData.vegetation = $(this).find('input').val() / 100;\n    var textObject = JSON.stringify(predictedData);\n    $(\"#predicted-data\").text(textObject);\n  });\n\n  $('.map-tab-btn').on('click', function(){\n      var itm = $(this);\n      $('.map-tab-btn').each(function(){\n        $(this).removeClass('active');\n      });\n      itm.addClass('active');\n  });\n\n  $('button').on('click', function(){\n    var btn = $(this);\n    if(btn.hasClass('btn-active')) {\n      btn.removeClass('btn-active');\n    } else {\n      btn.parents('.btn-js-group').find('.btn-active').removeClass('btn-active');\n      btn.addClass('btn-active');\n    }\n  });\n\n  // Temporary solution in order to show county on first page load\n  setTimeout(function() {\n     $('#searchCounty').val('55027-WI027-WISCONSIN').trigger('change.select2');\n   }, 3000);\n\n});\n\nfunction temperatureTooltip(args) {\n  return args.value + ' <span class=\"tooltip-parameter\">°F</span><div class=\"tooltip-label\">Temperature</div>';\n}\n\nfunction vegetationTooltip(args) {\n  return args.value / 100 + '<div class=\"tooltip-label\">Vegetation Level</div>';\n}\n\n$(\"#slider-water\").mouseup(function() {\n  updatePredictedData();\n});\n$(\"#slider-carbon\").mouseup(function() {\n  updatePredictedData();\n});\n$(\"#slider-soil\").mouseup(function() {\n  updatePredictedData();\n});\n$(\"#round-temperature\").on('change', function() {\n  updatePredictedData();\n});\n$(\"#round-vegetation\").on('change', function() {\n  updatePredictedData();\n});\n\nfunction updatePredictedData() {\n\n    var predictedData = $(\"#predicted-data\").val();\n\n    $.ajax({\n      type: 'POST',\n      url: '/api/updateData',\n      data: predictedData, // TO DO: make id dinamic\n      headers: {\n        \"Content-Type\" : \"application/json\",\n      },\n      success: function(data) {\n        console.log('predicted data updated');\n        $(\"#predicted-yield\").text(data);\n      }\n    });\n};\n"],"sourceRoot":""}