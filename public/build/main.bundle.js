!function(t){var e={};function a(r){if(e[r])return e[r].exports;var n=e[r]={i:r,l:!1,exports:{}};return t[r].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=t,a.c=e,a.d=function(t,e,r){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)a.d(r,n,function(e){return t[e]}.bind(null,n));return r},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="",a(a.s=1)}([function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.drawTemperatureVegetation=function(t){n={top:0,right:0,bottom:30,left:0};var e=["yield","temperature","vegetation"];y.domain(e);var a=[],i={};e.forEach(function(t){i[t]={name:t,values:[]},a.push(i[t])}),t.forEach(function(t,a){t.years.forEach(function(t){e.map(function(e){i[e].values.push({name:e,year:parseInt(t.year),value:+t[e]})})})}),t.forEach(function(t,e){c.domain(t.years.map(function(t){return parseInt(t.year)}))}),h(a),d.domain([0,d3.max(a,function(t){return d3.max(t.values,function(t){return t.y+.1*t.y})})]),m.append("g").attr("class","y axis").call(p),m.append("g").attr("class","x axis").attr("transform","translate(0,"+s+")").call(u);var o=m.selectAll(".series").data(a).enter().append("g").attr("class",function(t,e){return"series series-"+e}),b=$(r).find("svg")[0];g(b,"temperature-gradient-0",[{offset:"0%","stop-color":"#44A484 ","stop-opacity":"0.45"},{offset:"75%","stop-color":"#44A484","stop-opacity":"0.05"}]),g(b,"temperature-gradient-1",[{offset:"0%","stop-color":"#76C6CC","stop-opacity":"0.45"},{offset:"75%","stop-color":"#76C6CC","stop-opacity":"0.05"}]),g(b,"temperature-gradient-2",[{offset:"0%","stop-color":"#E8B251 ","stop-opacity":"0.45"},{offset:"75%","stop-color":"#E8B251","stop-opacity":"0.05"}]),o.append("path").attr("d",function(t){return v(t.values)}).attr("class","streamPath").style("fill",function(t,e){return"url(#temperature-gradient-"+e+")"}),m.selectAll(".seriesPoints").data(a).enter().append("g").attr("class","seriesPoints").selectAll(".point").data(function(t){return t.values}).enter().append("circle").attr("class",function(t,e){return"point point-itm-"+t.name+"-"+e}).attr("cx",function(t){return c(t.year)+c.rangeBand()/2}).attr("cy",function(t){return d(t.y)}).attr("r","5px").style("opacity",0).style("fill",function(t){return y(t.name)}),m.selectAll(".seriesPointsHover").data(a).enter().append("g").attr("class",function(t,e){return"seriesPointsHover seriesPointsHover-"+e}).selectAll(".point-hover").data(function(t){return t.values}).enter().append("circle").attr("class","point-hover").attr("cx",function(t){return c(t.year)+c.rangeBand()/2}).attr("cy",function(t){return d(t.y)}).attr("r","25px").style("opacity",0).style("fill",function(t){return y(t.name)}).on("mouseover",function(t,e){(function(t,e){var a=[];a.clientX=d3.mouse(this)[0],a.clientY=d3.mouse(this)[1];var r='<div id="area-tooltip" style="left: '+(a.clientX+25)+"px; top: "+(a.clientY-50)+'px;">';r+="<span><strong>"+l[t.name]+"</strong></br>"+t.value+"</span>",r+="<span><strong>Year</strong></br>"+t.year+"</span>",r+="</div>",$(".point-itm-"+t.name+"-"+e).css("opacity",1),$("#chart-gradient").append(r)}).call(this,t,e)}).on("mouseout",function(t,e){(function(t,e){$(".point-itm-"+t.name+"-"+e).css("opacity",0),$("#area-tooltip").remove()}).call(this,t,e)}),a.forEach(function(t,e){m.select(".series-"+e).append("path").data([a[e].values]).attr("class","border-line line"+e).attr("d",f).attr("transform","translate("+c.rangeBand()/2+", 0)")})};var r="#chart-gradient",n={top:0,right:15,bottom:30,left:15},i=$(".gradient-wrapper").width()-n.left-n.right,s=.6*i-n.top-n.bottom,o=!1;i<=500&&(o=!0);var l={yield:"Corn Yield",temperature:"Temperature",vegetation:"Vegetation"},c=d3.scale.ordinal().rangeRoundBands([0,i],-1.1),d=(d3.scale.ordinal().rangeRoundBands([0,i],-.7),d3.scale.linear().rangeRound([s,0])),u=d3.svg.axis().scale(c).orient("bottom").tickPadding(12).tickSize(1).tickFormat(function(t){return o?t%3==0?t:void 0:t});o&&u.ticks(1e3);var p=d3.svg.axis().scale(d).orient("left").innerTickSize(-i).outerTickSize(0).tickPadding(10).ticks(5).tickFormat(function(t){return""}),f=d3.svg.line().x(function(t,e){return c(t.year)}).y(function(t){return d(t.value)}),y=d3.scale.ordinal().range(["#2D9280","#5BABB1","#E5B156"]).domain(["yield","temperature","vegetation"]),m=d3.select(r).append("svg").attr("width",i+n.left+n.right).attr("height",s+n.top+n.bottom).append("g").attr("transform","translate("+n.left+","+n.top+")"),h=d3.layout.stack().values(function(t){return t.values}).x(function(t){return c(t.year)+c.rangeBand()/2}).y(function(t){return t.value}),v=d3.svg.area().x(function(t){return c(t.year)+c.rangeBand()/2}).y0(function(t){return d(0)}).y1(function(t){return d(t.y)});function g(t,e,a){var r=t.namespaceURI,n=document.createElementNS(r,"linearGradient");n.setAttribute("id",e),n.setAttribute("x2","0%"),n.setAttribute("y2","100%");for(var i=0;i<a.length;i++){var s=a[i],o=document.createElementNS(r,"stop");for(var l in s)s.hasOwnProperty(l)&&o.setAttribute(l,s[l]);n.appendChild(o)}return(t.querySelector("defs")||t.insertBefore(document.createElementNS(r,"defs"),t.firstChild)).appendChild(n)}$(".temp-veget-btn").on("click",function(){var t=$(this);t.hasClass("active")?(t.removeClass("active"),t.hasClass("btn-icon--corn")&&(d3.selectAll(".series-0").attr("visibility","hidden"),$(".seriesPointsHover-0").css("display","none")),t.hasClass("btn-icon--temperature")&&(d3.selectAll(".series-1").attr("visibility","hidden"),$(".seriesPointsHover-1").css("display","none")),t.hasClass("btn-icon--vegetation")&&(d3.selectAll(".series-2").attr("visibility","hidden"),$(".seriesPointsHover-2").css("display","none"))):(t.addClass("active"),t.hasClass("btn-icon--corn")&&(d3.selectAll(".series-0").attr("visibility","visible"),$(".seriesPointsHover-0").css("display","initial")),t.hasClass("btn-icon--temperature")&&(d3.selectAll(".series-1").attr("visibility","visible"),$(".seriesPointsHover-1").css("display","initial")),t.hasClass("btn-icon--vegetation")&&(d3.selectAll(".series-2").attr("visibility","visible"),$(".seriesPointsHover-2").css("display","initial")))})},function(t,e,a){"use strict";a(2),a(3),a(4),a(5),a(0),a(7),a(8)},function(t,e,a){"use strict";!function(t){var e=t.fn.select2.amd.require("select2/defaults");t.extend(e.defaults,{searchInputPlaceholder:""});var a=t.fn.select2.amd.require("select2/dropdown/search"),r=a.prototype.render;a.prototype.render=function(t){var e=r.apply(this,Array.prototype.slice.apply(arguments));return this.$search.attr("placeholder",this.options.get("searchInputPlaceholder")),e}}(window.jQuery),d3.json("/js/us-data-show.json",function(t,e){for(var a=[],r=e.county,n=(Object.keys(r).forEach(function(t){var e=t.toString(),n=0;n=t<1e4?1:2;var i={name:r[""+t].name,state:e.slice(0,n),originalKey:t};a.push(i)}),$("#searchCounty")),i=[],s=0;s<a.length;s++)i.push({id:a[s].originalKey,text:a[s].name,originalKey:a[s].originalKey});n.select2({placeholder:"Search for a county…",searchInputPlaceholder:"Search for a county…",width:"100%",data:i})})},function(t,e,a){"use strict";var r=a(0);!function(){var t,e,a,n,i,s,o,l,c,d,u,p,f,y,m=d3.select(".tooltip"),h=(m.select("#tooltip-state"),0),v={},g=void 0,b=$(".map-counties-sp").width(),x=.6*b,w={top:10,right:10,bottom:10,left:10},A=(d3.scale.sqrt().range([2,40]),d3.scale.threshold().range(["#FBF0DE","#F7E2BC","#F2CC89","#E9BF77","#DBAB58","#A5E7D1","#8EDAC1","#64C2A2","#3FA885","#20906A"])),k=(d3.format("0,000"),d3.format("3g"),d3.format(".1f"),!1),C=!1,P={year:void 0,zoom:d3.select(null),mode:"NATIONAL",state:void 0,county:void 0};var S=d3.select(".timeseries"),T=10,j=50,F=b-j-20;function B(){P.zoom=d3.select(null),n.selectAll("*").remove(),g.transition().duration(500).ease("exp-out").attr("data-zoom",!1).attr("transform","translate("+w.left+","+w.top+")"),setTimeout(function(){a.selectAll("*").style("visibility","visible"),e.selectAll(".county").style("visibility","visible").style("stroke-width","0.5px")},500),P.mode="NATIONAL",O(void 0)}function E(t,r){if("select"!=r&&d3.event.stopPropagation(),P.zoom.node()!==this){var i=b-w.left-w.right,o=x-w.top-w.bottom;P.zoom=d3.select(this);var l=s.bounds(t),c=l[1][0]-l[0][0],d=l[1][1]-l[0][1],u=(l[0][0]+l[1][0])/2,p=(l[0][1]+l[1][1])/2,f=.8/Math.max(c/i,d/o),y=[i/2-f*u,o/2-f*p];P.zoomScale=f,g.transition().duration(500).attr("data-zoom",!0).attr("transform","translate("+y+")scale("+f+")"),n.selectAll("*").remove(),a.selectAll("*").style("visibility","hidden"),e.selectAll(".county").style("visibility",function(e){return Math.floor(e.id/1e3)===t.id?"visible":"hidden"}).style("stroke-width",1/f+"px"),P.mode="STATE"}else B()}function O(t){P.state=t,W(),void 0===P.state?v.region.html("United States"):y&&v.region.html(y.state[t].name),_(t)}function z(t){P.year=t,I(),W(),v.year.html(t),_()}function N(t){P.county=t,W(),P.county,_()}function _(t){t&&y&&$("#tooltip-state").html(y.state[t].name)}function I(){k&&C&&e.selectAll(".county").style("fill",function(t){return y.county.hasOwnProperty(t.id)&&y.county[t.id].data.hasOwnProperty(P.year)?A(y.county[t.id].data[P.year]):"#fff"})}function W(){var t;if(k&&C&&("NATIONAL"===P.mode?t=P.state?y.state[P.state]:y.national:"STATE"===P.mode&&(t=P.county?y.county[P.county]:y.state[P.state]),void 0!==t)){var e=Object.keys(t.data).map(function(e){return{x:+e,y:t.data[e]}});d.domain(t.yRange),l.select("g.y.axis").call(p),l.selectAll(".line").remove(),l.append("path").attr("class","line").attr("d",f(e)),l.selectAll(".point").remove(),t.data.hasOwnProperty(P.year)&&l.append("circle").attr("class","point selected").attr("r",4).attr("cx",c(P.year)).attr("cy",d(t.data[P.year]))}}c=d3.scale.linear().range([5,F-5]).clamp(!0),d=d3.scale.linear().domain([0,100]).range([59,5]),o=S.append("svg").attr("width",b).attr("height",140).append("g").attr("transform","translate("+j+","+T+")"),(l=o.append("g")).append("rect").attr("class","background").attr("width",F).attr("height",64),p=d3.svg.axis().scale(d).orient("left").ticks(4).tickSize(-F).tickPadding(12).tickFormat(d3.format("s")),l.append("g").attr("class","y axis").call(p),u=d3.svg.axis().scale(c).orient("bottom").tickFormat(function(t){return t}).tickSize(-64).ticks(12).tickPadding(12),l.append("g").attr("class","x axis").attr("transform","translate(0,64)").call(u),f=d3.svg.line().x(function(t){return c(t.x)}).y(function(t){return d(t.y)}),$("#searchCounty").on("select2:select",function(t){var e=$(this).val(),a=Math.floor(e/1e3);$.ajax({type:"GET",data:{id:"WI027"},contentType:"application/json; charset=utf-8",url:"/api/data/",success:function(t){console.log("data updated"),(0,r.drawTemperatureVegetation)(t)}}),B();var n=600;$('[data-zoom="true"]').length>0&&(n=1e3),setTimeout(function(){g.selectAll(".state-id-"+a).attr("data-id",function(t){return E(t,"select"),t.id})},n)}),v.number=d3.select("#label-number"),v.unit=d3.select("#label-unit"),v.region=d3.select("#label-region"),v.year=d3.select("#label-year"),t=d3.select(".loading"),function(){var t=d3.select(".map-counties-sp")[0][0];h=[t.offsetLeft,t.offsetTop];var r=b-w.left-w.right,o=x-w.top-w.bottom,l=d3.select("#map-counties");g=l.append("svg").attr("class","map-background").attr("width",b).attr("height",x).on("click",B).append("g").attr("transform","translate("+w.left+","+w.top+")"),e=g.append("g").attr("class","counties"),a=g.append("g").attr("class","states"),n=g.append("g").attr("class","highlight"),i=d3.geo.albersUsa().scale(b).translate([r/2,o/2]),s=d3.geo.path().projection(i),d3.json("/js/us.json",function(t,r){if(t)throw t;e.selectAll(".county").data(topojson.feature(r,r.objects.counties).features).enter().append("path").attr("class","county").attr("data-county-id",function(t){return t.id}).attr("d",s).on("mouseout",function(){n.selectAll("*").remove(),"STATE"===P.mode&&N(void 0)}).on("mouseover",function(t){y.county.hasOwnProperty(t.id)?(d3.select(this).style("cursor","pointer"),n.append("path").datum(t).attr("class","highlight-outer").attr("d",s).style("stroke-width",4.5/P.zoomScale+"px"),n.append("path").datum(t).attr("class","highlight-inner").attr("d",s).style("stroke-width",1/P.zoomScale+"px"),N(t.id)):d3.select(this).style("cursor","not-allowed")}),a.selectAll(".state").data(topojson.feature(r,r.objects.states).features).enter().append("path").attr("class",function(t){return"state state-id-"+t.id}).attr("d",s).on("mouseout",function(){n.selectAll("*").remove(),"NATIONAL"===P.mode&&O(void 0),m.style("opacity",0)}).on("mouseover",function(t){!function(t){if(C){var e=[0,0],a=(e=d3.mouse(d3.event.currentTarget))[0],r=e[1];m.style("visibility","visible").style("opacity",1).style("margin-top","-50px").style("left",a-h[0]+"px").style("top",r+"px")}}(t.id),y&&y.length>0&&y.state.length>0&&!y.state.hasOwnProperty(t.id)?d3.select(this).style("cursor","not-allowed"):(d3.select(this).style("cursor","pointer"),n.append("path").datum(t).attr("class","highlight-outer").attr("d",s),n.append("path").datum(t).attr("class","highlight-inner").attr("d",s),O(t.id))}).on("click",function(t){d3.event.stopPropagation(),y.state.hasOwnProperty(t.id)&&E(t)}),k=!0})}(),window.setTimeout(function(){C=!1,t.select(".spinner").classed("hidden_elem",!1),t.select(".error").classed("hidden_elem",!0),t.classed("hidden_elem",!1),d3.json("/js/us-data-show.json",function(e,a){if(e)throw e;y=a,A.range(y.metadata.colorRange),A.domain(y.metadata.colorQuantiles),c.domain(y.metadata.yearRange),l.select("g.x.axis").call(u),v.unit.html(y.metadata.unit.toLowerCase()),"STATE"!==P.mode||y.state.hasOwnProperty(P.state)?O(P.state):B(),P.year&&P.year<=y.metadata.yearRange[1]&&P.year>=y.metadata.yearRange[0]?z(P.year):z(y.metadata.yearRange[1]),C=!0,I(),W(),_(),t.classed("hidden_elem",!0)})},1500)}()},function(t,e,a){"use strict";var r=20,n=20,i=30,s=40,o=$("#zoom-bar-chart").width()-s-n,l=120-r-i,c=d3.scale.ordinal().rangeRoundBands([0,o],.1),d=d3.scale.ordinal(),u=d3.scale.linear().range([l,0]),p=d3.svg.axis().scale(c).tickSize(0).orient("bottom"),f=(d3.svg.axis().scale(u).orient("left"),d3.scale.ordinal().range(["#76c6cc","#e8b251","#44a484"])),y=d3.select("#zoom-bar-chart").append("svg").attr("width",o+s+n).attr("height",l+r+i).append("g").attr("transform","translate("+s+","+r+")");d3.json("/api/bar-data.json",function(t,e){var a=e.map(function(t){return t.categorie}),r=e[0].values.map(function(t){return t.rate});c.domain(a),d.domain(r).rangeRoundBands([0,c.rangeBand()]),u.domain([0,d3.max(e,function(t){return d3.max(t.values,function(t){return t.value})})]),y.append("g").attr("class","x axis").attr("transform","translate(0,"+l+")").call(p),y.select(".y").transition().duration(500).delay(1300).style("opacity","1");var n=y.selectAll(".slice").data(e).enter().append("g").attr("class","g").attr("transform",function(t){return"translate("+c(t.categorie)+",0)"});n.selectAll("rect").data(function(t){return t.values}).enter().append("rect").attr("width",d.rangeBand()).attr("x",function(t){return d(t.rate)}).style("fill",function(t){return f(t.rate)}).attr("y",function(t){return u(0)}).attr("height",function(t){return l-u(0)}).on("mouseover",function(t){d3.select(this).style("fill",d3.rgb(f(t.rate)).darker(2))}).attr("rx",2).attr("ry",2).on("mouseout",function(t){d3.select(this).style("fill",f(t.rate))}),n.selectAll("rect").transition().delay(function(t){return 1e3*Math.random()}).duration(1e3).attr("y",function(t){return u(t.value)}).attr("height",function(t){return l-u(t.value)});var i=d3.svg.brush().x(c).on("brush",function(){console.log("Brushed")});y.append("g").attr("class","x brush").call(i).selectAll("rect").attr("y",0).attr("height",l)})},function(t,e,a){"use strict";var r=function(t){return t&&t.__esModule?t:{default:t}}(a(6));!function(){var t=document.getElementById("chart-circle-wrapper").offsetWidth<550,e=30,a=20,n=20,i=30,s=$("#chart-circle-wrapper").width()-e-n,o=2*s/3,l=d3.select("#chart-circle").append("svg").attr("width",s+e+n).attr("height",o+a+i).append("g").attr("class","chordWrapper").attr("transform","translate("+e+","+a+")"),c=.7,d=d3.scale.ordinal().range(["#2e8bc2","#209481","#B6334F"]).domain(["water","carbon","soil_quality"]),u=d3.scale.log().range([0,s]).domain([d3.min(r.default,function(t){return.9*t.yield}),d3.max(r.default,function(t){return 1.1*t.yield})]),p=d3.svg.axis().orient("bottom").ticks(2).tickFormat(function(e){return u.tickFormat(t?4:8,function(t){var e=d3.formatPrefix(t);return e.scale(t)+e.symbol})(e)}).scale(u);l.append("g").attr("class","x axis").attr("transform","translate(0,"+o+")").call(p);var f=d3.scale.linear().range([o,0]).domain([d3.min(r.default,function(t){return.9*t.value}),d3.max(r.default,function(t){return 1.1*t.value})]).nice(),y=(d3.svg.axis().orient("left").ticks(6).scale(f),d3.scale.sqrt().range([t?1:2,t?10:16]).domain(d3.extent(r.default,function(t){return t.yield})),d3.geom.voronoi().x(function(t){return u(t.yield)}).y(function(t){return f(t.value)}).clipExtent([[0,0],[s,o]])(r.default));l.append("defs").attr("class","clipWrapper").selectAll(".clip").data(y).enter().append("clipPath").attr("class","clip").attr("id",function(t){return"clip-"+t.point.code}).append("path").attr("class","clip-path-circle").attr("d",function(t){return"M"+t.join(",")+"Z"}),l.append("g").attr("class","circleClipWrapper").selectAll(".circle-wrapper").data(r.default.sort(function(t,e){return e.yield>t.yield})).enter().append("circle").attr("class",function(t,e){return"circle-wrapper circle-type-"+t.type+" "+t.code+" "+("water"!=t.type?"hidden":"")}).attr("visibility",function(t,e){return"water"==t.type?"visible":"hidden"}).attr("clip-path",function(t){return"url(#clip-"+t.code+")"}).style("clip-path",function(t){return"url(#clip-"+t.code+")"}).attr("cx",function(t){return u(t.yield)}).attr("cy",function(t){return f(t.value)}).attr("r",50).on("mouseover",function(t,e){var a=[];a.clientX=d3.mouse(this)[0],a.clientY=d3.mouse(this)[1];var r='<div id="circle-tooltip" style="left: '+(a.clientX+50)+"px; top: "+(a.clientY-20)+'px;">';switch(r+='<span class="soil-chemistry-county"><strong>County</strong></br>'+t.county+"</span>",t.type){case"water":r+='<span class="soil-chemistry-water"><strong>Accessible Water</strong></br>'+Number.parseFloat(t.value).toFixed(1)+"mm</span>";break;case"carbon":r+='<span class="soil-chemistry-carbon""><strong>Carbon</strong></br>'+Number.parseFloat(t.value).toFixed(1)+"</span>";break;case"soil_quality":r+='<span class="soil-chemistry-soil"><strong>Soil</strong></br>'+Number.parseFloat(t.value).toFixed(1)+"</span>"}r+='<span class="soil-chemistry-yield"><strong>Corn Yield</strong></br>'+Number.parseFloat(t.yield).toFixed(1)+"</span>",r+="</div>",$("#chart-circle-wrapper").append(r);var n=d3.selectAll("#chart-circle .countries."+t.code);n.style("fill",function(t){return d(t.type)}),n.style("opacity",1);var i=d3.selectAll("#chart-circle .countries-shadow."+t.code);i.style("fill",function(t){return d(t.type)}),i.style("opacity",.3)}).on("mouseout",function(t,e){$("#circle-tooltip").remove();var a=d3.selectAll("#chart-circle .countries."+t.code);a.style("opacity",c),a.style("fill",function(t){return d(t.type)}),d3.selectAll("#chart-circle .countries-shadow."+t.code).style("opacity",0)}),l.append("g").attr("class","circleWrapper").selectAll("countries").data(r.default.sort(function(t,e){return e.yield>t.yield})).enter().append("circle").attr("class",function(t,e){return"countries circle-type-"+t.type+" "+t.code+" "+("water"!=t.type?"hidden":"")}).attr("cx",function(t){return u(t.yield)}).attr("cy",function(t){return f(t.value)}).attr("r",function(t){return 5}).style("pointer-events","none").style("opacity",c).style("fill",function(t){return d(t.type)}),l.append("g").attr("class","circleWrapperShadow").selectAll("countries").data(r.default.sort(function(t,e){return e.yield>t.yield})).enter().append("circle").attr("class",function(t,e){return"countries-shadow circle-type-"+t.type+" "+t.code+" "+("water"!=t.type?"hidden":"")}).attr("cx",function(t){return u(t.yield)}).attr("cy",function(t){return f(t.value)}).attr("r",function(t){return 20}).style("pointer-events","none").style("opacity",0).style("fill",function(t){return d(t.type)})}(),$(".soil-chemistry-btn").on("click",function(){var t=$(this);$(".soil-chemistry-btn").each(function(){$(this).removeClass("active")}),t.addClass("active"),$(".circleClipWrapper circle.circle-wrapper").addClass("hidden"),$(".circleWrapper circle.countries").addClass("hidden"),$(".circleWrapperShadow circle.countries-shadow").addClass("hidden"),$(".circleClipWrapper circle.circle-wrapper.circle-type-"+t.attr("data-type")).removeClass("hidden"),$(".circleWrapper circle.countries.circle-type-"+t.attr("data-type")).removeClass("hidden"),$(".circleWrapperShadow circle.countries-shadow.circle-type-"+t.attr("data-type")).removeClass("hidden")})},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=[{county:"Name",code:"AFG",type:"carbon",value:400.121,yield:857.222},{county:"Name",code:"AGF",type:"water",value:650.151,yield:561.121},{county:"Name",code:"GFA",type:"soil_quality",value:565.121,yield:720.121},{county:"Name",code:"ARG",type:"carbon",value:460.121,yield:897.222},{county:"Name",code:"ATF",type:"water",value:550.151,yield:591.121},{county:"Name",code:"GWA",type:"soil_quality",value:405.121,yield:800.121}]},function(t,e,a){"use strict";var r=$("#curve-line-sp"),n=20,i=15,s=30,o=15,l=r.width()-o-i,c=r.height()-n-s,d=[{x:2e3,y:5},{x:2001,y:8},{x:2002,y:13},{x:2002,y:12},{x:2004,y:16},{x:2004,y:21},{x:2006,y:18},{x:2007,y:23},{x:2007,y:24},{x:2009,y:28},{x:2010,y:35},{x:2011,y:30},{x:2012,y:32},{x:2013,y:36},{x:2014,y:40},{x:2015,y:100}],u=d3.scale.linear().domain([d3.min(d,function(t){return t.x}),d3.max(d,function(t){return t.x})]).range([0,l]),p=d3.scale.linear().domain([0,d3.max(d,function(t){return t.y})]).range([c,0]),f=d3.svg.axis().scale(u).orient("bottom").innerTickSize(-c).outerTickSize(0).ticks(5).tickPadding(10).tickFormat(function(t){return t}),y=d3.svg.axis().scale(p).orient("left").innerTickSize(-l).outerTickSize(100).tickPadding(10).ticks(5).tickFormat(function(t){return t}).tickFormat(function(t){return""}),m=d3.svg.line().x(function(t){return u(t.x)}).y(function(t){return p(t.y)}).interpolate("bundle"),h=d3.select("#curve-line").append("svg").attr("width",l+o+i).attr("height",c+n+s).append("g").attr("transform","translate("+o+","+n+")");h.append("g").attr("class","x axis").attr("transform","translate(0,"+c+")").call(f),h.append("g").attr("class","y axis").call(y),h.append("path").data([d]).attr("class","line").attr("d",m)},function(t,e,a){"use strict";$(document).ready(function(){var t=document.getElementById("slider-water"),e=$(t).prop("max");$(t).siblings(".count").text($(t).val()+" mm").css({left:$(t).val()*(100/e)+"%",transform:"translateX(-"+$(t).val()*(100/e)+"%)"}),$(t).siblings(".fill").css("width",$(t).val()*(100/e)+"%"),t.oninput=function(){$(this).siblings(".count").text(this.value+" mm").css({left:this.value*(100/e)+"%",transform:"translateX(-"+this.value*(100/e)+"%)"}),$(this).siblings(".fill").css("width",this.value*(100/e)+"%"),console.log(this.value)};var a=document.getElementById("slider-carbon"),r=$(a).prop("max");$(a).siblings(".count").text($(a).val()+" g").css({left:$(a).val()*(100/r)+"%",transform:"translateX(-"+$(a).val()*(100/r)+"%)"}),$(a).siblings(".fill").css("width",$(a).val()*(100/r)+"%"),a.oninput=function(){$(this).siblings(".count").text(this.value+" g").css({left:this.value*(100/r)+"%",transform:"translateX(-"+this.value*(100/r)+"%)"}),$(this).siblings(".fill").css("width",this.value*(100/r)+"%")};var n=document.getElementById("slider-soil"),i={1:"Poor",2:"Average",3:"Good",4:"Great"},s=$(n).prop("max");$(n).siblings(".count").text(i[$(n).val()]).css({left:$(n).val()*(100/s)+"%",transform:"translateX(-"+$(n).val()*(100/s)+"%)"}),$(n).siblings(".fill").css("width",$(n).val()*(100/s)+"%"),n.oninput=function(){$(this).siblings(".count").text(i[this.value]).css({left:this.value*(100/s)+"%",transform:"translateX(-"+this.value*(100/s)+"%)"}),$(this).siblings(".fill").css("width",this.value*(100/s)+"%")},$("#round-temperature").roundSlider({radius:150,width:40,circleShape:"half-top",sliderType:"min-range",value:50,min:0,max:100,editableTooltip:!1,tooltipFormat:"temperatureTooltip"}),$("#round-vegetation").roundSlider({radius:150,width:40,circleShape:"half-top",sliderType:"min-range",value:0,min:-100,max:100,editableTooltip:!1,tooltipFormat:"vegetationTooltip"}),$(".map-tab-btn").on("click",function(){var t=$(this);$(".map-tab-btn").each(function(){$(this).removeClass("active")}),t.addClass("active")}),$("button").on("click",function(){var t=$(this);t.hasClass("btn-active")?t.removeClass("btn-active"):(t.parents(".btn-js-group").find(".btn-active").removeClass("btn-active"),t.addClass("btn-active"))})})}]);
//# sourceMappingURL=main.bundle.js.map